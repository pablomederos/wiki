---
title: Vertical Slices in .NET
description: Software Architecture in Dotnet: A pragmatic introduction to Vertical Slices
published: true
date: 2025-07-04T18:00:07.732Z
tags: .net, c#, asp.net core, software architecture, software design, vertical slice architecture, minimal apis, applicationparts, mvc controllers, modular monolith, .net architecture, project structure, endpoint discovery, low coupling high cohesion, code maintainability, .net 8
editor: markdown
dateCreated: 2025-06-11T17:56:17.634Z
---

I. [Introduction to Vertical Slice Architecture in .NET](#introduction)

  - A. [Fundamental Principles of VSA: The Why and the How](#fundamental-principles-of-vsa-the-why-and-the-how)
  - B. [VSA in the .NET Ecosystem: Framework Mechanisms](#vsa-in-the-net-ecosystem-framework-mechanisms)

II. [Implementing Vertical Slices in Separate Projects by Context: The How and Why of Modularization](#implementing-vertical-slices-in-separate-projects)

  - A. [Conceptual Overview: Structuring "Contexts" as Independent Projects](#conceptual-overview)
  - B. [Key Considerations for Project Separation: The How of Integration](#key-considerations-for-project-separation)

III. [Strategies for Exposing Endpoints for Vertical Slices in Separate Projects: .NET Mechanisms](#strategies-for-exposing-endpoints)

  - A. [Using ASP.NET Core ApplicationParts (for MVC Controllers)](#using-aspnet-core-applicationparts)
  - B. [Leveraging Minimal APIs (with Custom Discovery)](#leveraging-minimal-apis)
  - C. [ApplicationParts vs. Minimal APIs for Slices in Separate Projects](#comparative-analysis)
      - C.1 [More Direct Example Using Only Extension Methods and Minimal APIs](#extension-methods)

IV. [General Advantages and Disadvantages of Vertical Slice Architecture](#in-depth-analysis)

  - A. [Detailed Advantages (The Why Behind Their Benefits)](#detailed-advantages)
  - B. [Disadvantages and Common Challenges](#disadvantages-and-common-challenges)

V. [Other Possible Implementation Alternatives in VSA](#brief-mention-of-other-possible-alternatives)

  - A. [Internal Slice Organization](#internal-slice-organization)
  - B. [Direct Communication Between Slices (without an explicit mediator)](#direct-communication-between-slices)
  - C. [Using Source Generators for Registration/Optimization](#using-source-generators-for-registrationoptimization)

VI. [Conclusion and Strategic Recommendations: A Pragmatic Approach with .NET](#conclusion-and-strategic-recommendations)

<br>

<div id="#introduction"\>

## I. Introduction to Vertical Slice Architecture in .NET

Vertical Slice Architecture (VSA) has gained a significant place within the .NET development community as an alternative to more traditional layered architectures. It is primarily based on organizing application logic into business 'features', called "slices", rather than grouping code by technical affinity into "horizontal layers" like presentation, business logic, and data access. Each vertical slice groups everything required to implement a specific feature, from presentation to persistence, cutting across all relevant domain/business requirements for that particular functionality.

```diagram
PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IGNvbG9yLXNjaGVtZTogbGlnaHQgZGFyazsiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIyODFweCIgaGVpZ2h0PSIyOTFweCIgdmlld0JveD0iLTAuNSAtMC41IDI4MSAyOTEiIGNvbnRlbnQ9IiZsdDtteGZpbGUgaG9zdD0mcXVvdDtlbWJlZC5kaWFncmFtcy5uZXQmcXVvdDsgYWdlbnQ9JnF1b3Q7TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEzNy4wLjAuMCBTYWZhcmkvNTM3LjM2JnF1b3Q7IHZlcnNpb249JnF1b3Q7MjcuMS41JnF1b3Q7Jmd0OyZsdDtkaWFncmFtIGlkPSZxdW90O3BqblVwME95VmdfcTZQLXFEb1FyJnF1b3Q7IG5hbWU9JnF1b3Q7UGFnZS0xJnF1b3Q7Jmd0OzVWaGRiNXN3RlAwMWtiYUhSb0NEUXg2VDBIUVBtelExay9ic2dBRnJCalBqTk9sKy9leGdCNmhKUzFXVnJtc1VLYzY1SDdiUHViNVlUTUE2UDk1d1ZHYmZXSXpweEhQaTR3U0VFODl6SFRlUVB3cTVyeEVZTEdvZzVTVFdUZzJ3Slgrd2lkVG9uc1M0NmpnS3hxZ2daUmVNV0ZIZ1NIUXd4RGs3ZE4wU1JydXpsaWpGRnJDTkVMWFJueVFXV1kwR3Z0UGdYekJKTXpPejYyaExqb3l6QnFvTXhlelFnc0QxQkt3NVk2SWU1Y2MxcG9vOHcwc2R0N2xnUFMrTTQwSU1DZkRxZ0R0RTkzcHYzem11WkRBU2hCVjZqZUxlYkp5emZSRmpGZXRPd09xUUVZRzNKWXFVOVNDbGxsZ21jcXJOaUpLMGtHT0tFN21XVlNVZFNaSGVhbDQ4S0xHRUZXS3IwN3Y2L3dibGhLckMrSUV5bGlQalZSZUJDNXRNWDA5NVEzZXVYQWlsYTBZWlA2MFR4RDRPNHBseUZaejl3aTFMNE8wQVZFbHNwalI1ZDVnTGZHeEJtcmtiekhJcytMMTAwVll3MXlycU1nWkc1a05URkY2Z3NheFZFRkJqU05kaGVrN2RTQ1VIV3ExKzVZQ2wzTElzS1luZXQzQkprbmhSMUNkY0RIZlFmeTNoNWlNS043T0VDeVZiNUIxckZrUzRYN05kNE05a1Uzd1Z6V2F6RVRYekxjMXVjY2txSXBqTzh4NTFpeEVPa2w3ZFlCVGdYZkk2dXZudWlMcEJTemRMclZUS1ZmWVV0WU9BWTNodDRjN3AwMGZhS3B6WGxxNyt3eWs4MzFmUXppek9lWlJhMytsUzZ5MXNhbWM5eko3OVhrTHQvR2xxbjNVUUJ2Sy9PWDBlNWQ5bUhGNWczR1oyRE9hQ0h1WWdGWHF2SFFyaDc3MjZDYTZpZXB0TGFlVHA3cFBueTRZazUzSGFnOCtuclpzSU9VclY3d1lqc2VkWXVpek5MSEo5OVVTMWh5V2I1RWowTjZsSU1vcmxPbGFLU1huVm9FdHR5RWtjcS9CZWtac3lVT3FvN0NIaHNzelZQUVdFSnRVVjVSZDZuZTVxOHNhamN1bWJLUWl2M09DbGFwdEhDWmk2VHRCODNXR255QUhUZVFCYTM1ZVh4dUwvN2xmK0cvWXI4OWdadTJFTkVNQ21mSEdCOHJkcFdPWkFqTjJ4VmgrbFl3MlgrNS9yV0s3OUJtR1VsdldRMUpTaXF0S0NqZGJRNEZ0ZXdGejdEY0FvcDNMOVVVN2x1YlFISDB2UG41cWdweW9BZ2ltRXp5NEMrYmQ1TjNpeXRkNndndXUvJmx0Oy9kaWFncmFtJmd0OyZsdDsvbXhmaWxlJmd0OyI+PGRlZnMvPjxnPjxnIGRhdGEtY2VsbC1pZD0iMCI+PGcgZGF0YS1jZWxsLWlkPSIxIj48ZyBkYXRhLWNlbGwtaWQ9IjIiPjxnPjxyZWN0IHg9IjAiIHk9IjEwIiB3aWR0aD0iMjgwIiBoZWlnaHQ9IjYwIiByeD0iOSIgcnk9IjkiIGZpbGw9IiNkNWU4ZDQiIHN0cm9rZT0iIzgyYjM2NiIgcG9pbnRlci1ldmVudHM9ImFsbCIgc3R5bGU9ImZpbGw6IGxpZ2h0LWRhcmsocmdiKDIxMywgMjMyLCAyMTIpLCByZ2IoMzEsIDQ3LCAzMCkpOyBzdHJva2U6IGxpZ2h0LWRhcmsocmdiKDEzMCwgMTc5LCAxMDIpLCByZ2IoNjgsIDExMCwgNDQpKTsiLz48L2c+PGc+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGZsZXgtc3RhcnQ7IHdpZHRoOiAyMzVweDsgaGVpZ2h0OiAxcHg7IHBhZGRpbmctdG9wOiA0MHB4OyBtYXJnaW4tbGVmdDogMTlweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogbGVmdDsgY29sb3I6ICMwMDAwMDA7ICI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE2cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtUYWhvbWEmcXVvdDs7IGNvbG9yOiBsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpOyBsaW5lLWhlaWdodDogMS4yOyBwb2ludGVyLWV2ZW50czogYWxsOyBmb250LXdlaWdodDogYm9sZDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+UHJlc2VudGF0aW9uPC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE5IiB5PSI0NSIgZmlsbD0ibGlnaHQtZGFyaygjMDAwMDAwLCAjZmZmZmZmKSIgZm9udC1mYW1pbHk9IiZxdW90O1RhaG9tYSZxdW90OyIgZm9udC1zaXplPSIxNnB4IiBmb250LXdlaWdodD0iYm9sZCI+UHJlc2VudGF0aW9uPC90ZXh0Pjwvc3dpdGNoPjwvZz48L2c+PC9nPjxnIGRhdGEtY2VsbC1pZD0iMyI+PGc+PHJlY3QgeD0iMCIgeT0iODAiIHdpZHRoPSIyODAiIGhlaWdodD0iNjAiIHJ4PSI5IiByeT0iOSIgZmlsbD0iI2ZmZjJjYyIgc3Ryb2tlPSIjZDZiNjU2IiBwb2ludGVyLWV2ZW50cz0iYWxsIiBzdHlsZT0iZmlsbDogbGlnaHQtZGFyayhyZ2IoMjU1LCAyNDIsIDIwNCksIHJnYig0MCwgMjksIDApKTsgc3Ryb2tlOiBsaWdodC1kYXJrKHJnYigyMTQsIDE4MiwgODYpLCByZ2IoMTA5LCA4MSwgMCkpOyIvPjwvZz48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgZmxleC1zdGFydDsgd2lkdGg6IDIzNXB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDExMHB4OyBtYXJnaW4tbGVmdDogMTlweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogbGVmdDsgY29sb3I6ICMwMDAwMDA7ICI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE2cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtUYWhvbWEmcXVvdDs7IGNvbG9yOiBsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpOyBsaW5lLWhlaWdodDogMS4yOyBwb2ludGVyLWV2ZW50czogYWxsOyBmb250LXdlaWdodDogYm9sZDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+QXBwbGljYXRpb248L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTkiIHk9IjExNSIgZmlsbD0ibGlnaHQtZGFyaygjMDAwMDAwLCAjZmZmZmZmKSIgZm9udC1mYW1pbHk9IiZxdW90O1RhaG9tYSZxdW90OyIgZm9udC1zaXplPSIxNnB4IiBmb250LXdlaWdodD0iYm9sZCI+QXBwbGljYXRpb248L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48L2c+PGcgZGF0YS1jZWxsLWlkPSI0Ij48Zz48cmVjdCB4PSIwIiB5PSIxNTAiIHdpZHRoPSIyODAiIGhlaWdodD0iNjAiIHJ4PSI5IiByeT0iOSIgZmlsbD0iI2Y4Y2VjYyIgc3Ryb2tlPSIjYjg1NDUwIiBwb2ludGVyLWV2ZW50cz0iYWxsIiBzdHlsZT0iZmlsbDogbGlnaHQtZGFyayhyZ2IoMjQ4LCAyMDYsIDIwNCksIHJnYig4MSwgNDUsIDQzKSk7IHN0cm9rZTogbGlnaHQtZGFyayhyZ2IoMTg0LCA4NCwgODApLCByZ2IoMjE1LCAxMjksIDEyNikpOyIvPjwvZz48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgZmxleC1zdGFydDsgd2lkdGg6IDIzNXB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDE4MHB4OyBtYXJnaW4tbGVmdDogMTlweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogbGVmdDsgY29sb3I6ICMwMDAwMDA7ICI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE2cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtUYWhvbWEmcXVvdDs7IGNvbG9yOiBsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpOyBsaW5lLWhlaWdodDogMS4yOyBwb2ludGVyLWV2ZW50czogYWxsOyBmb250LXdlaWdodDogYm9sZDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+RG9tYWluPC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE5IiB5PSIxODUiIGZpbGw9ImxpZ2h0LWRhcmsoIzAwMDAwMCwgI2ZmZmZmZikiIGZvbnQtZmFtaWx5PSImcXVvdDtUYWhvbWEmcXVvdDsiIGZvbnQtc2l6ZT0iMTZweCIgZm9udC13ZWlnaHQ9ImJvbGQiPkRvbWFpbjwvdGV4dD48L3N3aXRjaD48L2c+PC9nPjwvZz48ZyBkYXRhLWNlbGwtaWQ9IjUiPjxnPjxyZWN0IHg9IjAiIHk9IjIyMCIgd2lkdGg9IjI4MCIgaGVpZ2h0PSI2MCIgcng9IjkiIHJ5PSI5IiBmaWxsPSIjZGFlOGZjIiBzdHJva2U9IiM2YzhlYmYiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHN0eWxlPSJmaWxsOiBsaWdodC1kYXJrKHJnYigyMTgsIDIzMiwgMjUyKSwgcmdiKDI5LCA0MSwgNTkpKTsgc3Ryb2tlOiBsaWdodC1kYXJrKHJnYigxMDgsIDE0MiwgMTkxKSwgcmdiKDkyLCAxMjEsIDE2MykpOyIvPjwvZz48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgZmxleC1zdGFydDsgd2lkdGg6IDIzNXB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDI1MHB4OyBtYXJnaW4tbGVmdDogMTlweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogbGVmdDsgY29sb3I6ICMwMDAwMDA7ICI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE2cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtUYWhvbWEmcXVvdDs7IGNvbG9yOiBsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpOyBsaW5lLWhlaWdodDogMS4yOyBwb2ludGVyLWV2ZW50czogYWxsOyBmb250LXdlaWdodDogYm9sZDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+UmVwb3NpdG9yeTwvZGl2PjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxOSIgeT0iMjU1IiBmaWxsPSJsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpIiBmb250LWZhbWlseT0iJnF1b3Q7VGFob21hJnF1b3Q7IiBmb250LXNpemU9IjE2cHgiIGZvbnQtd2VpZ2h0PSJib2xkIj5SZXBvc2l0b3J5PC90ZXh0Pjwvc3dpdGNoPjwvZz48L2c+PC9nPjxnIGRhdGEtY2VsbC1pZD0iNiI+PGc+PHJlY3QgeD0iMTMwIiB5PSIwIiB3aWR0aD0iNDAiIGhlaWdodD0iMjkwIiByeD0iNiIgcnk9IjYiIGZpbGw9IiNmMGEzMGEiIHN0cm9rZT0iI2JkNzAwMCIgcG9pbnRlci1ldmVudHM9ImFsbCIgc3R5bGU9ImZpbGw6IGxpZ2h0LWRhcmsocmdiKDI0MCwgMTYzLCAxMCksIHJnYigxNTQsIDg4LCAwKSk7IHN0cm9rZTogbGlnaHQtZGFyayhyZ2IoMTg5LCAxMTIsIDApLCByZ2IoMTkzLCAxMjcsIDMxKSk7Ii8+PC9nPjxnIGRhdGEtY2VsbC1pZD0iNyI+PGc+PHJlY3QgeD0iMTMwIiB5PSIwIiB3aWR0aD0iNDAiIGhlaWdodD0iMjkwIiByeD0iNiIgcnk9IjYiIGZpbGw9IiNmMGEzMGEiIHN0cm9rZT0iI2JkNzAwMCIgcG9pbnRlci1ldmVudHM9ImFsbCIgc3R5bGU9ImZpbGw6IGxpZ2h0LWRhcmsocmdiKDI0MCwgMTYzLCAxMCksIHJnYigxNTQsIDg4LCAwKSk7IHN0cm9rZTogbGlnaHQtZGFyayhyZ2IoMTg5LCAxMTIsIDApLCByZ2IoMTkzLCAxMjcsIDMxKSk7Ii8+PC9nPjwvZz48ZyBkYXRhLWNlbGwtaWQ9IjgiPjxnPjxyZWN0IHg9IjEzMCIgeT0iNDMuMTEiIHdpZHRoPSI0MCIgaGVpZ2h0PSIyMDMuNzgiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE4MCwxNTAsMTQ1KSIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjwvZz48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpcm90YXRlKC0xODAgMTUwIDE0NSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIgcG9pbnRlci1ldmVudHM9Im5vbmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSBjZW50ZXI7IHdyaXRpbmctbW9kZTogdmVydGljYWwtbHI7d2lkdGg6IDFweDsgaGVpZ2h0OiAyMDBweDsgcGFkZGluZy10b3A6IDQ1cHg7IG1hcmdpbi1sZWZ0OiAxNTBweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzAwMDAwMDsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMjNweDsgZm9udC1mYW1pbHk6ICZxdW90O0hlbHZldGljYSZxdW90OzsgY29sb3I6IGxpZ2h0LWRhcmsoIzAwMDAwMCwgI2ZmZmZmZik7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IGZvbnQtd2VpZ2h0OiBib2xkOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj48Zm9udCBzdHlsZT0iY29sb3I6IGxpZ2h0LWRhcmsoKHJnYigyNTUsIDI1NSwgMjU1KSwgcmdiKDE4LCAxOCwgMTgpKTsiPkZlYXR1cmUgQTwvZm9udD48L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTUwIiB5PSIxNTIiIGZpbGw9ImxpZ2h0LWRhcmsoIzAwMDAwMCwgI2ZmZmZmZikiIGZvbnQtZmFtaWx5PSImcXVvdDtIZWx2ZXRpY2EmcXVvdDsiIGZvbnQtc2l6ZT0iMjNweCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9ImJvbGQiPkZlYXQuLi48L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48L2c+PC9nPjxnIGRhdGEtY2VsbC1pZD0iOSI+PGc+PHJlY3QgeD0iMTgwIiB5PSIwIiB3aWR0aD0iNDAiIGhlaWdodD0iMjkwIiByeD0iNiIgcnk9IjYiIGZpbGw9IiNmMGEzMGEiIHN0cm9rZT0iI2JkNzAwMCIgcG9pbnRlci1ldmVudHM9ImFsbCIgc3R5bGU9ImZpbGw6IGxpZ2h0LWRhcmsocmdiKDI0MCwgMTYzLCAxMCksIHJnYigxNTQsIDg4LCAwKSk7IHN0cm9rZTogbGlnaHQtZGFyayhyZ2IoMTg5LCAxMTIsIDApLCByZ2IoMTkzLCAxMjcsIDMxKSk7Ii8+PC9nPjxnIGRhdGEtY2VsbC1pZD0iMTAiPjxnPjxyZWN0IHg9IjE4MCIgeT0iMCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjI5MCIgcng9IjYiIHJ5PSI2IiBmaWxsPSIjZjBhMzBhIiBzdHJva2U9IiNiZDcwMDAiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHN0eWxlPSJmaWxsOiBsaWdodC1kYXJrKHJnYigyNDAsIDE2MywgMTApLCByZ2IoMTU0LCA4OCwgMCkpOyBzdHJva2U6IGxpZ2h0LWRhcmsocmdiKDE4OSwgMTEyLCAwKSwgcmdiKDE5MywgMTI3LCAzMSkpOyIvPjwvZz48L2c+PGcgZGF0YS1jZWxsLWlkPSIxMSI+PGc+PHJlY3QgeD0iMTgwIiB5PSI0My4xMSIgd2lkdGg9IjQwIiBoZWlnaHQ9IjIwMy43OCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTgwLDIwMCwxNDUpIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PC9nPjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSlyb3RhdGUoLTE4MCAyMDAgMTQ5KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd3JpdGluZy1tb2RlOiB2ZXJ0aWNhbC1scjt3aWR0aDogMXB4OyBoZWlnaHQ6IDIwMHB4OyBwYWRkaW5nLXRvcDogNDVweDsgbWFyZ2luLWxlZnQ6IDIwMHB4OyI+PGRpdiBzdHlsZT0iYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC1zaXplOiAwOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjMDAwMDAwOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAyM3B4OyBmb250LWZhbWlseTogJnF1b3Q7SGVsdmV0aWNhJnF1b3Q7OyBjb2xvcjogbGlnaHQtZGFyaygjMDAwMDAwLCAjZmZmZmZmKTsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgZm9udC13ZWlnaHQ6IGJvbGQ7IHdoaXRlLXNwYWNlOiBub3JtYWw7IHdvcmQtd3JhcDogbm9ybWFsOyAiPjxmb250IHN0eWxlPSJjb2xvcjogbGlnaHQtZGFyayhyZ2IoMjU1LCAyNTUsIDI1NSksIHJnYigxOCwgMTgsIDE4KSk7Ij5GZWF0dXJlIEI8L2ZvbnQ+PC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjIwMCIgeT0iMTUyIiBmaWxsPSJsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpIiBmb250LWZhbWlseT0iJnF1b3Q7SGVsdmV0aWNhJnF1b3Q7IiBmb250LXNpemU9IjIzcHgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtd2VpZ2h0PSJib2xkIj5GZWF0Li4uPC90ZXh0Pjwvc3dpdGNoPjwvZz48L2c+PC9nPjxnIGRhdGEtY2VsbC1pZD0iMTIiPjxnPjxyZWN0IHg9IjIzMCIgeT0iMCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjI5MCIgcng9IjYiIHJ5PSI2IiBmaWxsPSIjZjBhMzBhIiBzdHJva2U9IiNiZDcwMDAiIHRyYW5zZm9ybT0icm90YXRlKC0xODAsMjUwLDE0NSkiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHN0eWxlPSJmaWxsOiBsaWdodC1kYXJrKHJnYigyNDAsIDE2MywgMTApLCByZ2IoMTU0LCA4OCwgMCkpOyBzdHJva2U6IGxpZ2h0LWRhcmsocmdiKDE4OSwgMTEyLCAwKSwgcmdiKDE5MywgMTI3LCAzMSkpOyIvPjwvZz48ZyBkYXRhLWNlbGwtaWQ9IjEzIj48Zz48cmVjdCB4PSIyMzAiIHk9IjI1LjEyIiB3aWR0aD0iNDAiIGhlaWdodD0iMjYzLjY2IiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIHRyYW5zZm9ybT0icm90YXRlKC0xODAsMjUwLDE1Ni45NSkiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48L2c+PGc+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KXJvdGF0ZSgtMTgwIDI1MCAxNTYuOTUwMDAwMDAwMDAwMDUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3cml0aW5nLW1vZGU6IHZlcnRpY2FsLWxyO3dpZHRoOiAxcHg7IGhlaWdodDogMjYwcHg7IHBhZGRpbmctdG9wOiAyN3B4OyBtYXJnaW4tbGVmdDogMjUwcHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6ICMwMDAwMDA7ICI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDIzcHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtIZWx2ZXRpY2EmcXVvdDs7IGNvbG9yOiBsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpOyBsaW5lLWhlaWdodDogMS4yOyBwb2ludGVyLWV2ZW50czogYWxsOyBmb250LXdlaWdodDogYm9sZDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+PGZvbnQgc3R5bGU9ImNvbG9yOiBsaWdodC1kYXJrKHJnYigyNTUsIDI1NSwgMjU1KSwgcmdiKDE4LCAxOCwgMTgpKTsiPkZlYXR1cmUgQzwvZm9udD48L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMjUwIiB5PSIxNjQiIGZpbGw9ImxpZ2h0LWRhcmsoIzAwMDAwMCwgI2ZmZmZmZikiIGZvbnQtZmFtaWx5PSImcXVvdDtIZWx2ZXRpY2EmcXVvdDsiIGZvbnQtc2l6ZT0iMjNweCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9ImJvbGQiPkZlYXQuLi48L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjxzd2l0Y2g+PGcgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ii8+PGEgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtNSkiIHhsaW5rOmhyZWY9Imh0dHBzOi8vd3d3LmRyYXdpby5jb20vZG9jL2ZhcS9zdmctZXhwb3J0LXRleHQtcHJvYmxlbXMiIHRhcmdldD0iX2JsYW5rIj48dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEwcHgiIHg9IjUwJSIgeT0iMTAwJSI+VGV4dCBpcyBub3QgU1ZHIC0gY2Fubm90IGRpc3BsYXk8L3RleHQ+PC9hPjwvc3dpdGNoPjwvc3ZnPg==
```

<div id="fundamental-principles-of-vsa-the-why-and-the-how"\>

### Fundamental Principles of VSA: The Why and the How

VSA has some specifics that guide its implementation and aim to optimize the code structure for maintainability and scalability:

  - **Use-Case Driven:**

      - **Why:** Development organized solely in layers can spread the logic of a functionality across several technical components, making it difficult to understand and modify a complete feature. This is especially true in systems where less experienced developers couple many functionalities, leading to a change in one feature risking the operation of another. VSA aims to align the code structure with how the business conceives and requests functionalities.
      - **How:** The system is organized into specific business features or capabilities. Each "slice" expresses a use case. This makes it easier to add, modify, or remove functionalities in isolation, as the impact is contained within the slice, and in the worst-case scenario, in some orchestrating code like the Dependency Injection configuration.

  - **Melting Abstractions:**

      - **Why:** Layered architectures often impose rigid abstractions (e.g., "Controller -\> Service -\> Repository") that do not always add significant value and generate repetitive or unnecessarily complex code for simple functionalities, especially in projects that are simple at the beginning but are expected to scale in terms of features in the future. These types of projects become unnecessarily complex from the start.
      - **How:** The goal is to minimize forced barriers and abstractions between technical components within a slice. They are not forbidden, and for consistency between slices, they can be maintained. But it is no longer a necessity. A slice contains what is necessary for its operation, allowing for a more direct design adapted to the specific requirements of the feature. As I mentioned before, this does not imply the total absence of abstractions, but a critique of "rigid rules about dependency management." Abstractions are used where they provide genuine value, not as a dogma.

  - **Axis Of Change:**

      - **Why:** A significant challenge during software maintenance is that a change in one functionality requires modifying code in multiple, not directly related, places, increasing the risk of errors. While this can vary depending on the quality and clarity of each implementation, it is common that when transitioning from a monolithic architecture to a distributed one, it is quite difficult to find all the scattered dependencies of a functionality in each layer.
      - **How:** Components that tend to change together should reside close to each other in the code. When a functionality is implemented or modified, all changes are located within its corresponding slice, except for those that a team decides to move to a NuGet package or shared library by conventionâ€”the typical "Cross-cutting concerns." If modifications to a functionality usually require touching code in several horizontal layers (UI, business logic, data), grouping them vertically reduces the dispersion of the change. Or, if a functionality needs to be extracted into a microservice (this is where I see one of the biggest benefits), an entire project or directory can be extracted, without having to analyze every line of code in the solution.

The main idea is to maximize cohesion within each slice (all elements are strongly related) and minimize coupling between different slices (making them as independent as possible).

While the .NET community is not exclusively the only one that implements it today, the popularization of VSA in .NET could perhaps be attributed to **[Jimmy Bogard](https://www.jimmybogard.com/)** (creator of AutoMapper, MediatR, and Respawn). His argument is that traditional layered architectures can be too generic and not optimal for the majority of the individual needs of each system.

> You can read more about this topic at the link [Vertical Slice Architecture](https://www.jimmybogard.com/vertical-slice-architecture/) to expand on the information in this article.

<div id="vsa-in-the-net-ecosystem-framework-mechanisms"\>

### VSA in the .NET Ecosystem: Framework Mechanisms

In the .NET context, Vertical Slice Architecture benefits greatly from features and patterns of the **ASP.NET** framework itself:

  - **Minimal APIs and ASP.NET Core MVC:**

      - **Why:** HTTP endpoints are used to expose the functionalities of the slices (if it's a Rest API for example, although it's not tied to it).
      - **How:** VSA can be implemented using Minimal APIs and/or traditional ASP.NET Core MVC controllers. Minimal APIs (.NET 6+) align quite well with the VSA philosophy of reducing boilerplate code and focusing on the endpoint and its logic. MVC controllers are still a robust option, especially for scenarios with more complex MVC functionalities.

  - **Dependency Injection (DI):**

      - **Why:** To maintain low coupling and testability, components (like endpoints and business logic handlers) should not create their dependencies directly. This remains the same as in other traditional layered architectures.
      - **How:** The ASP.NET Core DI container is used to register and resolve the services and handlers that each slice needs. Endpoints receive their dependencies through dependency injection.

  - **Project Structure:**

      - **Why:** To optimize organization and isolation, especially in large applications.
      - **How:** Folders can be created by functionality within the same project, or, as this note focuses on, slices can be separated into independent class library projects (.csproj), grouped by business context.

<div id="implementing-vertical-slices-in-separate-projects"\>

## II. Implementing Vertical Slices in Separate Projects by Context: The How and Why of Modularization

Separating slices into independent class library projects, and grouping them by "business context," is one of many valid strategies for organizing large applications. The main application (ASP.NET Core web API) acts as an assembler or orchestrator.
I mention again for clarity that this architecture is not limited exclusively to RESTful APIs, but is perfectly compatible with gRPC, Blazor applications, Razor Pages, and even desktop or mobile applications.

<div id="conceptual-overview"\>

### Conceptual Overview: Structuring "Contexts" as Independent Projects

**Why:**

  - **Isolation and Clear Boundaries:** Each business functionality would have its own project, establishing compilation boundaries and reducing the risk of coupling with other contexts. This is similar to "Bounded Contexts" from Domain-Driven Design, but applied to the specific code.
  - **Organization for Teams:** It facilitates different teams working on different contexts without "colliding" with each other.
  - **Potential for Evolution:** This modular structure, even within a monolith, makes it easier to extract modules into microservices in the future if necessary.

**How:**
A typical structure:

  - `MainApiProject.csproj`: ASP.NET Core project.
  - `ContextA.Features.csproj`: Class library with slices for Context A.
  - `ContextB.Features.csproj`: Class library with slices for Context B.
  - `SharedKernel.csproj`: Shared code (utilities, cross-cutting interfaces, common DTOs if strictly necessary and well-defined).

Communication between contexts or slices, if necessary, should be explicit, usually through interfaces defined in a shared project or exposed by the public API of each project. There should be no communication between internal components of each slice directly. The main challenge is how the `MainApiProject` discovers and registers the endpoints in the context projects.
Personally, I prefer to use and abuse extension methods that I can then add almost transparently to my `MainApiProject`.

```diagram
PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IGNvbG9yLXNjaGVtZTogbGlnaHQgZGFyazsiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI3NTFweCIgaGVpZ2h0PSI1MzFweCIgdmlld0JveD0iLTAuNSAtMC41IDc1MSA1MzEiIGNvbnRlbnQ9IiZsdDtteGZpbGUgaG9zdD0mcXVvdDtlbWJlZC5kaWFncmFtcy5uZXQmcXVvdDsgYWdlbnQ9JnF1b3Q7TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEzNy4wLjAuMCBTYWZhcmkvNTM3LjM2JnF1b3Q7IHZlcnNpb249JnF1b3Q7MjcuMS41JnF1b3Q7Jmd0OyZsdDtkaWFncmFtIGlkPSZxdW90OzhqR2hXZ3NESDI0RHpwLWhiVGlGJnF1b3Q7IG5hbWU9JnF1b3Q7UGFnZS0xJnF1b3Q7Jmd0OzdadFJjNkk2RklCL2pUUHRRNTJFUUFpUHJXM3Z6dHp0ekU2N00zZjNNVUpFOWlMeFFtenQvdnFiUUZBeHNkcVdvbmExRDRYRFNVak8rYzdKQ1dnUERTYnp2M0k2SGQveGlLVTlCMFR6SHJydU9RNEVrTWgvU3ZKY1NUQUpLa0djSjVGV1dnb2VrdCtzYnFtbHN5UmlSVU5SY0o2S1pOb1VoanpMV0NnYU1wcm4vS21wTnVKcDg2NVRHak5EOEJEUzFKVCtrMFJpWEVtSkI1YnlMeXlKeC9XZElkQlhKclJXMW9KaVRDUCt0Q0pDTnowMHlEa1gxZEZrUG1DcE1sNXRsNnJkN1lhcmk0SGxMQk83TkhEME1NUnpQVGNXeWFucVU1NkxNWTk1UnRPYnBmUXE1N01zWXFvRElNK1dPbDg1bjBvaGxNSmZUSWhuN1RjNkUxeUt4bUtTNnF0c25vZ2Zxbm5mMDJjL1Y2NWN6M1hQNWNsemZaS0ovSG1sa1RyOXVYcHQyYXc4cTl0RnRCaVhZMVhkVjVOVk05eG9MaTBxK0N3UHRSYlNoTkU4WmxvTHdZV3ZKT1NNVDVpOHA5VEpXVXBGOHRqc25tcmE0b1hlMGlIeVFQdkU3aDk5NzBlYXp0Z21qeTM5b2ViNE5FNEVlNWpTY3ZSUE12NmF0dGY5c1Z5dytjdEdNR2VuRzdqQWx6NG9HK240ZFdxK241YlJzSkNOVnlMQkllRDlObkZQekc1bDF0c2pzNTdCN042UnhUVjNld0VXSHd1d0xZRG43eEU4Ly9EQWc2Z0pIZ3dXdVhNN2VrNnQraDZqa1AzQzUreE8zOXVBZzNVQnVFSWNkRHNpTGppV3lIN3JVdFNpVDNCSFBxazNDZnR5aW45VVhpRmRlUVVheWZtT0pwbVVmTXY1TDdWSmM4RFpGMTZJOC9mbGJKb21jU2FQUTJrSmxrdEJJVldUTEw3WGlWVXV4dWhxeEROUjh3RDErUzJkSktreThIYzY1aE5hYTFYK2hualowMWMyVWgxQlg2a2thVHJnS2MvTGthTElZeVJ5bGFySStiOXM1UXB4aGdqamR0WVVoTmZyNzhCU3pSRExrb0piS0dhZ3MzMlZqYVhMcGh0bnFuZmxkRmlyZzlkYUFIck8rZzRFbXFzcUpKNWxWUVZ0Mk1EY2xyMlAyaldPUm9BaVVDTzRJcjh0UHphK3JxNTlBRUNaeUlRTVhLNUNJQUE3OCthOGFHN3M5bjBYSWo5QUVDRFhKVzdEOUJjKzdnY1FZUWd3Y2p6a2U4aUUwZXQ3MEhjV2ZWajhBbjNTZDFIZytSaGozeVUrOEZ0d2sydHhFMDZGTm16RFgvaS9tWHJtY2hWV05yMVVPVEFlbmptZUhLdThFVmc5T0MvdFdyZVFSN0g2Zjh1b21PVk1xbHpXZDVFRHJHNVVhUmlNU0orSUxlbExlUzRKYVhxcEwweVNLQ3BYTEJ0UnpWWE1sdVYwUG5OUUU1VzJTTG13aDJFZnJINlFKU3JkUG9ZTzhqd1hTRW9jME1hQzAvWTJkTjh4K3FMaDNhQVpvMEVqUkNFSytrRkFDRkltRGlEMDhjR0VLTjVQaUY1OTRoQjlHUlM0dm5DcTdPMjRyaVA1a056VVQ5Y09JSURiM3M0ZmRBRDdzcWh6ampHQXlYNENlUENuQmpBbXh0UDN3dzNod0lEalc4NEtPZFBLS05xRlVmSzRkRjhsa251dHpNcU9NdkRGa3g2MklpamorWVNtVmxxMmdsaDJWcFR1VWwxQk9KMWJPenE3djNuNFhxRVozMzhiVkVkWEtmMHRNUzZQbVFqUE53SzVFRmVUTXNTTjZaLzJ2aS9TRHhGc3N1K1pXMThZa0w0bCs3V3grYTIzcWl0QVgwNm5xVXdlVzNoK0djRU5QSU9kK1h4ZytXTVNzcUtpa2VmaG1CVjFqTzNPNStjQWNUUWFPV0ZvQXpIQ1EreDlFSWdJN2d5aTF3YUk1dU8wYTJtdzVPMDUxWUlaTU9CMEFiQURlSk9KUkNRMWdQVlFRTTNsK1orU0JVY2taSGI0aHNSenZaWnFnUFczU2dqYjRBcytERDd6RWVBOW0vSWlFVngxMU1LaXZvbXpWNi9vWUZQR3ZLYUNLak9Fa2s1TjdXMlNxc3J5am1ZMFpoUGxpbU5hMjF1Q0dsaFdkc3JJeU1vMERna2JqajZHYWRlYVVEK09hZk9SN3FsVS9hUkp1cHRTMVFWa2ZhUFdjYkZxUHY0K0Zhc0hobUkzeGFxSll0Zmxxdmt3L2xTdUhnSituWlNyNWhkR3V5NVl6YmNNcDRKMTMxd2ZlOEZxVXQxMXlXcStJRG1Wcko4MFVYZFRzbUlDZGlwWnJVaTNVckthYjVOT0pldUJvZGhOeVdxaWFDOVpQeTY3bXUrdVRpWHJJZURYU2NscXdhL2JraFdaYjVwT0pldSt1VDcya3RXa3V1T1NGWm12cldwSER0L01IOTdBMzhOWUdpYVNHbit6UEZPL1FON0dsekdFallXR0JueVE4Nks0R015RWtNN3RsZDlzRHVXOWlpNXJnZlgwNkttL252R3RwdXBqQmF6OHRBT1k2emg5UkJxRWViWUswaTkvR0dRZzVyOGVNWG02L0xWMGVXM2xOK2ZvNW44PSZsdDsvZGlhZ3JhbSZndDsmbHQ7L214ZmlsZSZndDsiPjxkZWZzLz48Zz48ZyBkYXRhLWNlbGwtaWQ9IjAiPjxnIGRhdGEtY2VsbC1pZD0iMSI+PGcgZGF0YS1jZWxsLWlkPSIyIj48Zz48cGF0aCBkPSJNIDM3Ny41IDM5MCBMIDM3Ny41IDQ1My42MyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjMgMyIgcG9pbnRlci1ldmVudHM9InN0cm9rZSIgc3R5bGU9InN0cm9rZTogbGlnaHQtZGFyayhyZ2IoMCwgMCwgMCksIHJnYigyNTUsIDI1NSwgMjU1KSk7Ii8+PHBhdGggZD0iTSAzNzcuNSA0NTguODggTCAzNzQgNDUxLjg4IEwgMzc3LjUgNDUzLjYzIEwgMzgxIDQ1MS44OCBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9ImFsbCIgc3R5bGU9ImZpbGw6IGxpZ2h0LWRhcmsocmdiKDAsIDAsIDApLCByZ2IoMjU1LCAyNTUsIDI1NSkpOyBzdHJva2U6IGxpZ2h0LWRhcmsocmdiKDAsIDAsIDApLCByZ2IoMjU1LCAyNTUsIDI1NSkpOyIvPjwvZz48L2c+PGcgZGF0YS1jZWxsLWlkPSIzIj48Zz48cmVjdCB4PSIyNzcuNSIgeT0iMTEwIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjI4MCIgcng9IjMwIiByeT0iMzAiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRlci1ldmVudHM9ImFsbCIgc3R5bGU9ImZpbGw6IGxpZ2h0LWRhcmssoI2ZmZmZmZiwgdmFyKC0tZ2UtZGFyay1jb2xvciwgIzEyMTIxMikpOyBzdHJva2U6IGxpZ2h0LWRhcmsocmdiKDAsIDAsIDApLCByZ2IoMjU1LCAyNTUsIDI1NSkpOyIvPjwvZz48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogMTk4cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogMjUwcHg7IG1hcmdpbi1sZWZ0OiAyNzlweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzAwMDAwMDsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6ICZxdW90O0hlbHZldGljYSZxdW90OzsgY29sb3I6IGxpZ2h0LWRhcmssoIzAwMDAwMCwgI2ZmZmZmZik7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IHdoaXRlLXNwYWNlOiBub3JtYWw7IHdvcmQtd3JhcDogbm9ybWFsOyAiPjI8L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMzc4IiB5PSIyNTQiIGZpbGw9ImxpZ2h0LWRhcmssoIzAwMDAwMCwgI2ZmZmZmZikiIGZvbnQtZmFtaWx5PSImcXVvdDtIZWx2ZXRpY2EmcXVvdDsiIGZvbnQtc2l6ZT0iMTJweCIgdGV4dC1hbmNob3I9Im1pZGRsZSI+MjwvdGV4dD48L3N3aXRjaD48L2c+PC9nPjwvZz48ZyBkYXRhLWNlbGwtaWQ9IjQiPjxnPjxwYXRoIGQ9Ik0gNjUwIDM5MCBMIDY1MCA0MjUgTCAzNzcuNSA0MjUgTCAzNzcuNSA0NTMuNjMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIzIDMiIHBvaW50ZXItZXZlbnRzPSJzdHJva2UiIHN0eWxlPSJzdHJva2U6IGxpZ2h0LWRhcmsocmdiKDAsIDAsIDApLCByZ2IoMjU1LCAyNTUsIDI1NSkpOyIvPjxwYXRoIGQ9Ik0gMzc3LjUgNDU4Ljg4IEwgMzc0IDQ1MS44OCBMIDM3Ny41IDQ1My42MyBMIDM4MSA0NTEuODggWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHN0eWxlPSJmaWxsOiBsaWdodC1kYXJrKHJnYigwLCAwLCAwKSwgcmdiKDI1NSwgMjU1LCAyNTUpKTsgc3Ryb2tlOiBsaWdodC1kYXJrKHJnYigwLCAwLCAwKSwgcmdiKDI1NSwgMjU1LCAyNTUpKTsiLz48L2c+PC9nPjxnIGRhdGEtY2VsbC1pZD0iNSI+PGc+PHJlY3QgeD0iNTUwIiB5PSIxMTAiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjgwIiByeD0iMzAiIHJ5PSIzMCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludGVyLWV2ZW50cz0iYWxsIiBzdHlsZT0iZmlsbDogbGlnaHQtZGFyaygjZmZmZmZmLCB2YXIoLS1nZS1kYXJrLWNvbG9yLCAjMTIxMjEyKSk7IHN0cm9rZTogbGlnaHQtZGFyayhyZ2IoMCwgMCwgMCksIHJnYigyNTUsIDI1NSwgMjU1KSk7Ii8+PC9nPjwvZz48ZyBkYXRhLWNlbGwtaWQ9IjYiPjxnPjxwYXRoIGQ9Ik0gMTAwIDM5MCBMIDEwMCA0MjUgTCAzNzcuNiA0MjUgTCAzNzcuNiA0NTMuNjMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIzIDMiIHBvaW50ZXItZXZlbnRzPSJzdHJva2UiIHN0eWxlPSJzdHJva2U6IGxpZ2h0LWRhcmsocmdiKDAsIDAsIDApLCByZ2IoMjU1LCAyNTUsIDI1NSkpOyIvPjxwYXRoIGQ9Ik0gMzc3LjYgNDU4Ljg4IEwgMzc0LjEgNDUxLjg4IEwgMzc3LjYgNDUzLjYzIEwgMzgxLjEgNDUxLjg4IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0iYWxsIiBzdHlsZT0iZmlsbDogbGlnaHQtZGFyayhyZ2IoMCwgMCwgMCksIHJnYigyNTUsIDI1NSwgMjU1KSk7IHN0cm9rZTogbGlnaHQtZGFyayhyZ2IoMCwgMCwgMCksIHJnYigyNTUsIDI1NSwgMjU1KSk7Ii8+PC9nPjwvZz48ZyBkYXRhLWNlbGwtaWQ9IjciPjxnPjxyZWN0IHg9IjAiIHk9IjEwNy41IiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjI4Mi41IiByeD0iMzAiIHJ5PSIzMCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludGVyLWV2ZW50cz0iYWxsIiBzdHlsZT0iZmlsbDogbGlnaHQtZGFyaygjZmZmZmZmLCB2YXIoLS1nZS1kYXJrLWNvbG9yLCAjMTIxMjEyKSk7IHN0cm9rZTogbGlnaHQtZGFyayhyZ2IoMCwgMCwgMCksIHJnYigyNTUsIDI1NSwgMjU1KSk7Ii8+PC9nPjwvZz48ZyBkYXRhLWNlbGwtaWQ9IjgiPjxnPjxwYXRoIGQ9Ik0gMzA3LjUgNjAgTCAzMDcuNSA5Mi41IEwgMTAwIDkyLjUgTCAxMDAgMTE4LjYzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9InN0cm9rZSIgc3R5bGU9InN0cm9rZTogbGlnaHQtZGFyayhyZ2IoMCwgMCwgMCksIHJnYigyNTUsIDI1NSwgMjU1KSk7Ii8+PHBhdGggZD0iTSAxMDAgMTIzLjg4IEwgOTYuNSAxMTYuODggTCAxMDAgMTE4LjYzIEwgMTAzLjUgMTE2Ljg4IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0iYWxsIiBzdHlsZT0iZmlsbDogbGlnaHQtZGFyayhyZ2IoMCwgMCwgMCksIHJnYigyNTUsIDI1NSwgMjU1KSk7IHN0cm9rZTogbGlnaHQtZGFyayhyZ2IoMCwgMCwgMCksIHJnYigyNTUsIDI1NSwgMjU1KSk7Ii8+PC9nPjwvZz48ZyBkYXRhLWNlbGwtaWQ9IjkiPjxnPjxwYXRoIGQ9Ik0gMzc3LjUgNjAgTCAzNzcuNSAxMjAuNTQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ic3Ryb2tlIiBzdHlsZT0ic3Ryb2tlOiBsaWdodC1kYXJrKHJnYigwLCAwLCAwKSwgcmdiKDI1NSwgMjU1LCAyNTUpKTsiLz48cGF0aCBkPSJNIDM3Ny41IDEyNS43OSBMIDM3NCAxMTguNzkgTCAzNzcuNSAxMjAuNTQgTCAzODEgMTE4Ljc5IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0iYWxsIiBzdHlsZT0iZmlsbDogbGlnaHQtZGFyayhyZ2IoMCwgMCwgMCksIHJnYigyNTUsIDI1NSwgMjU1KSk7IHN0cm9rZTogbGlnaHQtZGFyayhyZ2IoMCwgMCwgMCksIHJnYigyNTUsIDI1NSwgMjU1KSk7Ii8+PC9nPjwvZz48ZyBkYXRhLWNlbGwtaWQ9IjEwIj48Zz48cGF0aCBkPSJNIDQ0Ny41IDYwIEwgNDQ3LjUgOTMuNSBMIDY1MCA5My41IEwgNjUwIDEyMC41NCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJzdHJva2UiIHN0eWxlPSJzdHJva2U6IGxpZ2h0LWRhcmsocmdiKDAsIDAsIDApLCByZ2IoMjU1LCAyNTUsIDI1NSkpOyIvPjxwYXRoIGQ9Ik0gNjUwIDEyNS43OSBMIDY0Ni41IDExOC43OSBMIDY1MCAxMjAuNTQgTCA2NTMuNSAxMTguNzkgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHN0eWxlPSJmaWxsOiBsaWdodC1kYXJrKHJnYigwLCAwLCAwKSwgcmdiKDI1NSwgMjU1LCAyNTUpKTsgc3Ryb2tlOiBsaWdodC1kYXJrKHJnYigwLCAwLCAwKSwgcmdiKDI1NSwgMjU1LCAyNTUpKTsiLz48L2c+PC9nPjxnIGRhdGEtY2VsbC1pZD0iMTEiPjxnPjxyZWN0IHg9IjIzNy41IiB5PSIwIiB3aWR0aD0iMjgwIiBoZWlnaHQ9IjYwIiByeD0iOSIgcnk9IjkiIGZpbGw9IiNkNWU4ZDQiIHN0cm9rZT0iIzgyYjM2NiIgcG9pbnRlci1ldmVudHM9ImFsbCIgc3R5bGU9ImZpbGw6IGxpZ2h0LWRhcmsocmdiKDIxMywgMjMyLCAyMTIpLCByZ2IoMzEsIDQ3LCAzMCkpOyBzdHJva2U6IGxpZ2h0LWRhcmsocmdiKDEzMCwgMTc5LCAxMDIpLCByZ2IoNjgsIDExMCwgNDQpKTsiLz48L2c+PGc+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd2lkdGg6IDIzNXB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDMwcHg7IG1hcmdpbi1sZWZ0OiAyNTZweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzAwMDAwMDsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTZweDsgZm9udC1mYW1pbHk6ICZxdW90O1RhaG9tYSZxdW90OzsgY29sb3I6IGxpZ2h0LWRhcmssoIzAwMDAwMCwgI2ZmZmZmZik7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IGZvbnQtd2VpZ2h0OiBib2xkOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj5NYWluIFByb2plY3QgKEhvc3QpPC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjM3MyIgeT0iMzUiIGZpbGw9ImxpZ2h0LWRhcmssoIzAwMDAwMCwgI2ZmZmZmZikiIGZvbnQtZmFtaWx5PSImcXVvdDtUYWhvbWEmcXVvdDsiIGZvbnQtc2l6ZT0iMTZweCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9ImJvbGQiPk1haW4gUHJvamVjdCAoSG9zdCk8L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48L2c+PGcgZGF0YS1jZWxsLWlkPSIxMiI+PGcvPjxnIGRhdGEtY2VsbC1pZD0iMTMiPjxnPjxyZWN0IHg9Ijg3LjI0IiB5PSI0OC4wOSIgd2lkdGg9IjI1LjUyIiBoZWlnaHQ9IjE3OC40NCIgcng9IjMuODMiIHJ5PSIzLjgzIiBmaWxsPSIjZjBhMzBhIiBzdHJva2U9IiNiZDcwMDAiIHRyYW5zZm9ybT0icm90YXRlKDkwLDEwMCwxMzcuMzEpIiBwb2ludGVyLWV2ZW50cz0iYWxsIiBzdHlsZT0iZmlsbDogbGlnaHQtZGFyayhyZ2IoMjQwLCAxNjMsIDEwKSwgcmdiKDE1NCwgODgsIDApKTsgc3Ryb2tlOiBsaWdodC1kYXJrKHJnYigxODksIDExMiwgMCksIHJnYigxOTMsIDEyNywgMzEpKTsiLz48L2c+PC9nPjxnIGRhdGEtY2VsbC1pZD0iMTQiPjxnPjxyZWN0IHg9IjcuNSIgeT0iMTI1IiB3aWR0aD0iMTg1IiBoZWlnaHQ9IjI0LjYxIiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48L2c+PGc+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd2lkdGg6IDE4M3B4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDEzN3B4OyBtYXJnaW4tbGVmdDogOHB4OyI+PGRpdiBzdHlsZT0iYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC1zaXplOiAwOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjMDAwMDAwOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAyM3B4OyBmb250LWZhbWlseTogJnF1b3Q7SGVsdmV0aWNhJnF1b3Q7OyBjb2xvcjogbGlnaHQtZGFyaysoIzAwMDAwMCwgI2ZmZmZmZik7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IGZvbnQtd2VpZ2h0OiBib2xkOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj48Zm9udCBzdHlsZT0iY29sb3I6IGxpZ2h0LWRhcmsocmdiKDI1NSwgMjU1LCAyNTUpLCByZ2IoMTgsIDE4LCAxOCkpOyI+RmVhdHVyZSBBPC9mb250PjwvZGl2PjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxMDAiIHk9IjE0NCIgZmlsbD0ibGlnaHQtZGFyaysoIzAwMDAwMCwgI2ZmZmZmZikiIGZvbnQtZmFtaWx5PSImcXVvdDtIZWx2ZXRpY2EmcXVvdDsiIGZvbnQtc2l6ZT0iMjNweCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9ImJvbGQiPkZlYXR1cmUgQTwvdGV4dD48L3N3aXRjaD48L2c+PC9nPjwvZz48L2c+PGcgZGF0YS1jZWxsLWlkPSIxNSI+PGc+PHJlY3QgeD0iMzY0Ljc0IiB5PSI1MCIgd2lkdGg9IjI1LjUyIiBoZWlnaHQ9IjE3OC40NCIgcng9IjMuODMiIHJ5PSIzLjgzIiBmaWxsPSIjZjBhMzBhIiBzdHJva2U9IiNiZDcwMDAiIHRyYW5zZm9ybT0icm90YXRlKDkwLDM3Ny41LDEzOS4yMikiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHN0eWxlPSJmaWxsOiBsaWdodC1kYXJrKHJnYigyNDAsIDE2MywgMTApLCByZ2IoMTU0LCA4OCwgMCkpOyBzdHJva2U6IGxpZ2h0LWRhcmsocmdiKDE4OSwgMTEyLCAwKSwgcmdiKDE5MywgMTI3LCAzMSkpOyIvPjwvZz48L2c+PGcgZGF0YS1jZWxsLWlkPSIxNiI+PGc+PHJlY3QgeD0iMjg1IiB5PSIxMjYuOTYiIHdpZHRoPSIxODUiIGhlaWdodD0iMjQuNjEiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjwvZz48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogMTgzcHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogMTM5cHg7IG1hcmdpbi1sZWZ0OiAyODZweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzAwMDAwMDsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMjNweDsgZm9udC1mYW1pbHk6ICZxdW90O0hlbHZldGljYSZxdW90OzsgY29sb3I6IGxpZ2h0LWRhcmssoIzAwMDAwMCwgI2ZmZmZmZik7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IGZvbnQtd2VpZ2h0OiBib2xkOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj48Zm9udCBzdHlsZT0iY29sb3I6IGxpZ2h0LWRhcmsocmdiKDI1NSwgMjU1LCAyNTUpLCByZ2IoMTgsIDE4LCAxOCkpOyI+RmVhdHVyZSBCPC9mb250PjwvZGl2PjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIzNzgiIHk9IjE0NiIgZmlsbD0ibGlnaHQtZGFyaysoIzAwMDAwMCwgI2ZmZmZmZikiIGZvbnQtZmFtaWx5PSImcXVvdDtIZWx2ZXRpY2EmcXVvdDsiIGZvbnQtc2l6ZT0iMjNweCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9ImJvbGQiPkZlYXR1cmUgQjwvdGV4dD48L3N3aXRjaD48L2c+PC9nPjwvZz48ZyBkYXRhLWNlbGwtaWQ9IjE3Ij48Zz48cmVjdCB4PSI2MzcuMjQiIHk9IjUwIiB3aWR0aD0iMjUuNTIiIGhlaWdodD0iMTc4LjQ0IiByeD0iMy44MyIgcnk9IjMuODMiIGZpbGw9IiNmMGEzMGEiIHN0cm9rZT0iI2JkNzAwMCIgdHJhbnNmb3JtPSJyb3RhdGUoOTAsNjUwLDEzOS4yMikiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHN0eWxlPSJmaWxsOiBsaWdodC1kYXJrKHJnYigyNDAsIDE2MywgMTApLCByZ2IoMTU0LCA4OCwgMCkpOyBzdHJva2U6IGxpZ2h0LWRhcmsocmdiKDE4OSwgMTEyLCAwKSwgcmdiKDE5MywgMTI3LCAzMSkpOyIvPjwvZz48L2c+PGcgZGF0YS1jZWxsLWlkPSIxOCI+PGc+PHJlY3QgeD0iNTU3LjUiIHk9IjEyNi45MSIgd2lkdGg9IjE4NSIgaGVpZ2h0PSIyNC42MSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PC9nPjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIgcG9pbnRlci1ldmVudHM9Im5vbmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSBjZW50ZXI7IHdpZHRoOiAxODNweDsgaGVpZ2h0OiAxcHg7IHBhZGRpbmctdG9wOiAxMzlweDsgbWFyZ2luLWxlZnQ6IDU1OXB4OyI+PGRpdiBzdHlsZT0iYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC1zaXplOiAwOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjMDAwMDAwOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAyM3B4OyBmb250LWZhbWlseTogJnF1b3Q7SGVsdmV0aWNhJnF1b3Q7OyBjb2xvcjogbGlnaHQtZGFyaysoIzAwMDAwMCwgI2ZmZmZmZik7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IGZvbnQtd2VpZ2h0OiBib2xkOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj48Zm9udCBzdHlsZT0iY29sb3I6IGxpZ2h0LWRhcmsocmdiKDI1NSwgMjU1LCAyNTUpLCByZ2IoMTgsIDE4LCAxOCkpOyI+RmVhdHVyZCBDPC9mb250PjwvZGl2PjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI2NTAiIHk9IjE0NiIgZmlsbD0ibGlnaHQtZGFyaysoIzAwMDAwMCwgI2ZmZmZmZikiIGZvbnQtZmFtaWx5PSImcXVvdDtIZWx2ZXRpY2EmcXVvdDsiIGZvbnQtc2l6ZT0iMjNweCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9ImJvbGQiPkZlYXR1cmUgQzwvdGV4dD48L3N3aXRjaD48L2c+PC9nPjwvZz48ZyBkYXRhLWNlbGwtaWQ9IjE5Ij48Zz48cmVjdCB4PSIxIiB5PSIxNjAiIHdpZHRoPSIxOTguNSIgaGVpZ2h0PSI2MCIgcng9IjkiIHJ5PSI5IiBmaWxsPSIjZDVlOGQ0IiBzdHJva2U9IiM4MmIzNjYiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHN0eWxlPSJmaWxsOiBsaWdodC1kYXJrKHJnYigyMTMsIDIzMiwgMjEyKSwgcmdiKDMxLCA0NywgMzApKTsgc3Ryb2tlOiBsaWdodC1kYXJrKHJnYigxMzAsIDE3OSwgMTAyKSwgcmdiKDY4LCAxMTAsIDQ0KSk7Ii8+PC9nPjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIgcG9pbnRlci1ldmVudHM9Im5vbmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSBjZW50ZXI7IHdpZHRoOiAxNTRweDsgaGVpZ2h0OiAxcHg7IHBhZGRpbmctdG9wOiAxOTBweDsgbWFyZ2luLWxlZnQ6IDE5cHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6ICMwMDAwMDA7ICI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE2cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtUYWhvbWEmcXVvdDs7IGNvbG9yOiBsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpOyBsaW5lLWhlaWdodDogMS4yOyBwb2ludGVyLWV2ZW50czogYWxsOyBmb250LXdlaWdodDogYm9sZDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+UHJlc2VudGF0aW9uPGRpdj48c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6IG5vcm1hbDsiPjxmb250IHN0eWxlPSJmb250LXNpemU6IDExcHg7Ij4oUkVTVCwgZ1JQQywgQmxhem9yLCBldGMpPC9mb250Pjwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iOTYiIHk9IjE5NSIgZmlsbD0ibGlnaHQtZGFyaysoIzAwMDAwMCwgI2ZmZmZmZikiIGZvbnQtZmFtaWx5PSImcXVvdDtUYWhvbWEmcXVvdDsiIGZvbnQtc2l6ZT0iMTZweCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9ImJvbGQiPlByZXNlbnRhdGlvbi4uLjwvdGV4dD48L3N3aXRjaD48L2c+PC9nPjwvZz48ZyBkYXRhLWNlbGwtaWQ9IjIwIj48Zz48cmVjdCB4PSIxIiB5PSIyMjAiIHdpZHRoPSIxOTguNSIgaGVpZ2h0PSI1MCIgcng9IjcuNSIgcnk9IjcuNSIgZmlsbD0iI2ZmZjJjYyIgc3Ryb2tlPSIjZDZiNjU2IiBwb2ludGVyLWV2ZW50cz0iYWxsIiBzdHlsZT0iZmlsbDogbGlnaHQtZGFyayhyZ2IoMjU1LCAyNDIsIDIwNCksIHJnYig0MCwgMjksIDApKTsgc3Ryb2tlOiBsaWdodC1kYXJrKHJnYigyMTQsIDE4MiwgODYpLCByZ2IoMTA5LCA4MSwgMCkpOyIvPjwvZz48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogMTU0cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogMjQ1cHg7IG1hcmdpbi1sZWZ0OiAxOXB4OyI+PGRpdiBzdHlsZT0iYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC1zaXplOiAwOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjMDAwMDAwOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNnB4OyBmb250LWZhbWlseTogJnF1b3Q7VGFob21hJnF1b3Q7OyBjb2xvcjogbGlnaHQtZGFyaysoIzAwMDAwMCwgI2ZmZmZmZik7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IGZvbnQtd2VpZ2h0OiBib2xkOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj5BcHBsaWNhdGlvbjxkaXY+PGZvbnQgc3R5bGU9ImZvbnQtd2VpZ2h0OiBub3JtYWw7IGZvbnQtc2l6ZTogMTExcHg7Ij4oU2VydmljZXMsIG9yY2hlc3RhdGlvbiwgZXRjKTwvZm9udD48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iOTYiIHk9IjI1MCIgZmlsbD0ibGlnaHQtZGFyaysoIzAwMDAwMCwgI2ZmZmZmZikiIGZvbnQtZmFtaWx5PSImcXVvdDtUYWhvbWEmcXVvdDsiIGZvbnQtc2l6ZT0iMTZweCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9ImJvbGQiPkFwcGxpY2F0aW9uLi4uPC90ZXh0Pjwvc3dpdGNoPjwvZz48L2c+PC9nPjxnIGRhdGEtY2VsbC1pZD0iMjEiPjxnPjxyZWN0IHg9IjAiIHk9IjI3MCIgd2lkdGg9IjE5OS41IiBoZWlnaHQ9IjUwIiByeD0iNy41IiByeT0iNy41IiBmaWxsPSIjZjhjZWNjIiBzdHJva2U9IiNiODU0NTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHN0eWxlPSJmaWxsOiBsaWdodC1kYXJrKHJnYigyNDgsIDIwNiwgMjA0KSwgcmdiKDgxLCA0NSwgNDMpKTsgc3Ryb2tlOiBsaWdodC1kYXJrKHJnYigxODQsIDg0LCA4MCksIHJnYigyMTUsIDEyOSwgMTI2KSk7Ii8+PC9nPjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIgcG9pbnRlci1ldmVudHM9Im5vbmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSBjZW50ZXI7IHdpZHRoOiAxNTVweDsgaGVpZ2h0OiAxcHg7IHBhZGRpbmctdG9wOiAyOTVweDsgbWFyZ2luLWxlZnQ6IDE4cHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6ICMwMDAwMDA7ICI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE2cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtUYWhvbWEmcXVvdDs7IGNvbG9yOiBsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpOyBsaW5lLWhlaWdodDogMS4yOyBwb2ludGVyLWV2ZW50czogYWxsOyBmb250LXdlaWdodDogYm9sZDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+RG9tYWluPGRpdj48c3BhbiBzdHlsZT0iZm9udC1zaXplOiAxMXB4OyBmb250LXdlaWdodDogNDAwOyI+KEVudGl0aWVzLCBEb21haW4gU2VydmljZXMpPC9zcGFuPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI5NSIgeT0iMzAwIiBmaWxsPSJsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpIiBmb250LWZhbWlseT0iJnF1b3Q7VGFob21hJnF1b3Q7IiBmb250LXNpemU9IjE2cHgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtd2VpZ2h0PSJib2xkIj5Eb21haW4uLi48L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48L2c+PGcgZGF0YS1jZWxsLWlkPSIyMiI+PGc+PHJlY3QgeD0iMCIgeT0iMzIwIiB3aWR0aD0iMTk5LjUiIGhlaWdodD0iNTAiIHJ4PSI3LjUiIHJ5PSI3LjUiIGZpbGw9IiNkYWU4ZmMiIHN0cm9rZT0iIzZjOGViZiIgcG9pbnRlci1ldmVudHM9ImFsbCIgc3R5bGU9ImZpbGw6IGxpZ2h0LWRhcmsocmdiKDIxOCwgMjMyLCAyNTIpLCByZ2IoMjksIDQxLCA1OSkpOyBzdHJva2U6IGxpZ2h0LWRhcmsocmdiKDEwOCwgMTQyLCAxOTEpLCByZ2IoOTIsIDEyMSwgMTYzKSk7Ii8+PC9nPjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIgcG9pbnRlci1ldmVudHM9Im5vbmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSBjZW50ZXI7IHdpZHRoOiAxOTZweDsgaGVpZ2h0OiAxcHg7IHBhZGRpbmctdG9wOiAzNDVweDsgbWFyZ2luLWxlZnQ6IDFweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzAwMDAwMDsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTZweDsgZm9udC1mYW1pbHk6ICZxdW90O1RhaG9tYSZxdW90OzsgY29sb3I6IGxpZ2h0LWRhcmssoIzAwMDAwMCwgI2ZmZmZmZik7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IGZvbnQtd2VpZ2h0OiBib2xkOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj5SZXBvc2l0b3J5PGRpdj48c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6IDQwMDsiPjxmb250IHN0eWxlPSJmb250LXNpemU6IDEwcHg7Ij4oRGF0YSBhY2Nlc3MsIEZpbGUgTWFuYWdlbWVudCwgZXRjKTwvZm9udD48L3NwYW4+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9Ijk5IiB5PSIzNTAiIGZpbGw9ImxpZ2h0LWRhcmssoIzAwMDAwMCwgI2ZmZmZmZikiIGZvbnQtZmFtaWx5PSImcXVvdDtUYWhvbWEmcXVvdDsiIGZvbnQtc2l6ZT0iMTZweCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9ImJvbGQiPlJlcG9zaXRvcnkuLi48L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48L2c+PGcgZGF0YS1jZWxsLWlkPSIyMyI+PGc+PHJlY3QgeD0iMjc4LjUiIHk9IjE2MCIgd2lkdGg9IjE5OC41IiBoZWlnaHQ9IjYwIiByeD0iOSIgcnk9IjkiIGZpbGw9IiNkNWU4ZDQiIHN0cm9rZT0iIzgyYjM2NiIgcG9pbnRlci1ldmVudHM9ImFsbCIgc3R5bGU9ImZpbGw6IGxpZ2h0LWRhcmsocmdiKDIxMywgMjMyLCAyMTIpLCByZ2IoMzEsIDQ3LCAzMCkpOyBzdHJva2U6IGxpZ2h0LWRhcmsocmdiKDEzMCwgMTc5LCAxMDIpLCByZ2IoNjgsIDExMCwgNDQpKTsiLz48L2c+PGc+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd2lkdGg6IDE1NHB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDE5MHB4OyBtYXJnaW4tbGVmdDogMjk3cHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6ICMwMDAwMDA7ICI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE2cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtUYWhvbWEmcXVvdDs7IGNvbG9yOiBsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpOyBsaW5lLWhlaWdodDogMS4yOyBwb2ludGVyLWV2ZW50czogYWxsOyBmb250LXdlaWdodDogYm9sZDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+UHJlc2VudGF0aW9uPGRpdj48c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6IG5vcm1hbDsiPjxmb250IHN0eWxlPSJmb250LXNpemU6IDExcHg7Ij4oUkVTVCwgZ1JQQywgQmxhem9yLCBldGMpPC9mb250Pjwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMzczIiB5PSIxOTUiIGZpbGw9ImxpZ2h0LWRhcmssoIzAwMDAwMCwgI2ZmZmZmZikiIGZvbnQtZmFtaWx5PSImcXVvdDtUYWhvbWEmcXVvdDsiIGZvbnQtc2l6ZT0iMTZweCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9ImJvbGQiPlByZXNlbnRhdGlvbi4uLjwvdGV4dD48L3N3aXRjaD48L2c+PC9nPjwvZz48ZyBkYXRhLWNlbGwtaWQ9IjI0Ij48Zz48cmVjdCB4PSIyNzguNSIgeT0iMjIwIiB3aWR0aD0iMTk4LjUiIGhlaWdodD0iNTAiIHJ4PSI3LjUiIHJ5PSI3LjUiIGZpbGw9IiNmZmYyY2MiIHN0cm9rZT0iI2Q2YjY1NiIgcG9pbnRlci1ldmVudHM9ImFsbCIgc3R5bGU9ImZpbGw6IGxpZ2h0LWRhcmsocmdiKDI1NSwgMjQyLCAyMDQpLCByZ2IoNDAsIDI5LCAwKSk7IHN0cm9rZTogbGlnaHQtZGFyayhyZ2IoMjE0LCAxODIsIDg2KSwgcmdiKDEwOSwgODEsIDApKTsiLz48L2c+PGc+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd2lkdGg6IDE1NHB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDI0NXB4OyBtYXJnaW4tbGVmdDogMjk3cHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6ICMwMDAwMDA7ICI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE2cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtUYWhvbWEmcXVvdDs7IGNvbG9yOiBsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpOyBsaW5lLWhlaWdodDogMS4yOyBwb2ludGVyLWV2ZW50czogYWxsOyBmb250LXdlaWdodDogYm9sZDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+QXBwbGljYXRpb248ZGl2Pjxmb250IHN0eWxlPSJmb250LXdlaWdodDogbm9ybWFsOyBmb250LXNpemU6IDExcHg7Ij4oU2VydmljZXMsIG9yY2hlc3RhdGlvbiwgZXRjKTwvZm9udD48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMzczIiB5PSIyNTAiIGZpbGw9ImxpZ2h0LWRhcmssoIzAwMDAwMCwgI2ZmZmZmZikiIGZvbnQtZmFtaWx5PSImcXVvdDtUYWhvbWEmcXVvdDsiIGZvbnQtc2l6ZT0iMTZweCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9ImJvbGQiPkFwcGxpY2F0aW9uLi4uPC90ZXh0Pjwvc3dpdGNoPjwvZz48L2c+PC9nPjxnIGRhdGEtY2VsbC1pZD0iMjUiPjxnPjxyZWN0IHg9IjI3Ny41IiB5PSIyNzAiIHdpZHRoPSIxOTkuNSIgaGVpZ2h0PSI1MCIgcng9IjcuNSIgcnk9IjcuNSIgZmlsbD0iI2Y4Y2VjYyIgc3Ryb2tlPSIjYjg1NDUwIiBwb2ludGVyLWV2ZW50cz0iYWxsIiBzdHlsZT0iZmlsbDogbGlnaHQtZGFyayhyZ2IoMjQ4LCAyMDYsIDIwNCksIHJnYig4MSwgNDUsIDQzKSk7IHN0cm9rZTogbGlnaHQtZGFyayhyZ2IoMTg0LCA4NCwgODApLCByZ2IoMjE1LCAxMjksIDEyNikpOyIvPjwvZz48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogMTU1cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogMjk1cHg7IG1hcmdpbi1sZWZ0OiAyOTZweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzAwMDAwMDsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTZweDsgZm9udC1mYW1pbHk6ICZxdW90O1RhaG9tYSZxdW90OzsgY29sb3I6IGxpZ2h0LWRhcmssoIzAwMDAwMCwgI2ZmZmZmZik7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IGZvbnQtd2VpZ2h0OiBib2xkOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj5Eb21haW48ZGl2PjxzcGFuIHN0eWxlPSJmb250LXNpemU6IDExcHg7IGZvbnQtd2VpZ2h0OiA0MDA7Ij4oRW50aXRpZXMsIERvbWFpbiBTZXJ2aWNlcyk8L3NwYW4+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjM3MyIgeT0iMzAwIiBmaWxsPSJsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpIiBmb250LWZhbWlseT0iJnF1b3Q7VGFob21hJnF1b3Q7IiBmb250LXNpemU9IjE2cHgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtd2VpZ2h0PSJib2xkIj5Eb21haW4uLi48L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48L2c+PGcgZGF0YS1jZWxsLWlkPSIyNiI+PGc+PHJlY3QgeD0iMjc3LjUiIHk9IjMyMCIgd2lkdGg9IjE5OS41IiBoZWlnaHQ9IjUwIiByeD0iNy41IiByeT0iNy41IiBmaWxsPSIjZGFlOGZjIiBzdHJva2U9IiM2YzhlYmYiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHN0eWxlPSJmaWxsOiBsaWdodC1kYXJrKHJnYigyMTgsIDIzMiwgMjUyKSwgcmdiKDI5LCA0MSwgNTkpKTsgc3Ryb2tlOiBsaWdodC1kYXJrKHJnYigxMDgsIDE0MiwgMTkxKSwgcmdiKDkyLCAxMjEsIDE2MykpOyIvPjwvZz48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogMTk2cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogMzQ1cHg7IG1hcmdpbi1sZWZ0OiAyNzlweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzAwMDAwMDsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTZweDsgZm9udC1mYW1pbHk6ICZxdW90O1RhaG9tYSZxdW90OzsgY29sb3I6IGxpZ2h0LWRhcmssoIzAwMDAwMCwgI2ZmZmZmZik7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IGZvbnQtd2VpZ2h0OiBib2xkOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj5SZXBvc2l0b3J5PGRpdj48c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6IDQwMDsiPjxmb250IHN0eWxlPSJmb250LXNpemU6IDEwcHg7Ij4oRGF0YSBhY2Nlc3MsIEZpbGUgTWFuYWdlbWVudCwgZXRjKTwvZm9udD48L3NwYW4+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjM3NiIgeT0iMzUwIiBmaWxsPSJsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpIiBmb250LWZhbWlseT0iJnF1b3Q7VGFob21hJnF1b3Q7IiBmb250LXNpemU9IjE2cHgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtd2VpZ2h0PSJib2xkIj5SZXBvc2l0b3J5Li4uPC90ZXh0Pjwvc3dpdGNoPjwvZz48L2c+PC9nPjxnIGRhdGEtY2VsbC1pZD0iMjciPjxnPjxyZWN0IHg9IjU1MC41IiB5PSIxNjAiIHdpZHRoPSIxOTkuNSIgaGVpZ2h0PSI2MCIgcng9IjkiIHJ5PSI5IiBmaWxsPSIjZDVlOGQ0IiBzdHJva2U9IiM4MmIzNjYiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHN0eWxlPSJmaWxsOiBsaWdodC1kYXJrKHJnYigyMTMsIDIzMiwgMjEyKSwgcmdiKDMxLCA0NywgMzApKTsgc3Ryb2tlOiBsaWdodC1kYXJrKHJnYigxMzAsIDE3OSwgMTAyKSwgcmdiKDY4LCAxMTAsIDQ0KSk7Ii8+PC9nPjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIgcG9pbnRlci1ldmVudHM9Im5vbmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSBjZW50ZXI7IHdpZHRoOiAxNTVweDsgaGVpZ2h0OiAxcHg7IHBhZGRpbmctdG9wOiAxOTBweDsgbWFyZ2luLWxlZnQ6IDU2OXB4OyI+PGRpdiBzdHlsZT0iYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC1zaXplOiAwOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjMDAwMDAwOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNnB4OyBmb250LWZhbWlseTogJnF1b3Q7VGFob21hJnF1b3Q7OyBjb2xvcjogbGlnaHQtZGFyaysoIzAwMDAwMCwgI2ZmZmZmZik7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IGZvbnQtd2VpZ2h0OiBib2xkOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj5QcmVzZW50YXRpb248ZGl2PjxzcGFuIHN0eWxlPSJmb250LXdlaWdodDogbm9ybWFsOyI+PGZvbnQgc3R5bGU9ImZvbnQtc2l6ZTogMTExcHg7Ij4oUkVTVCwgZ1JQQywgQmxhem9yLCBldGMpPC9mb250Pjwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNjQ2IiB5PSIxOTUiIGZpbGw9ImxpZ2h0LWRhcmssoIzAwMDAwMCwgI2ZmZmZmZikiIGZvbnQtZmFtaWx5PSImcXVvdDtUYWhvbWEmcXVvdDsiIGZvbnQtc2l6ZT0iMTZweCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9ImJvbGQiPlByZXNlbnRhdGlvbi4uLjwvdGV4dD48L3N3aXRjaD48L2c+PC9nPjwvZz48ZyBkYXRhLWNlbGwtaWQ9IjI4Ij48Zz48cmVjdCB4PSI1NTAuNSIgeT0iMjIwIiB3aWR0aD0iMTk5LjUiIGhlaWdodD0iNTAiIHJ4PSI3LjUiIHJ5PSI3LjUiIGZpbGw9IiNmZmYyY2MiIHN0cm9rZT0iI2Q2YjY1NiIgcG9pbnRlci1ldmVudHM9ImFsbCIgc3R5bGU9ImZpbGw6IGxpZ2h0LWRhcmsocmdiKDI1NSwgMjQyLCAyMDQpLCByZ2IoNDAsIDI5LCAwKSk7IHN0cm9rZTogbGlnaHQtZGFyayhyZ2IoMjE0LCAxODIsIDg2KSwgcmdiKDEwOSwgODEsIDApKTsiLz48L2c+PGc+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd2lkdGg6IDE1NXB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDI0NXB4OyBtYXJnaW4tbGVmdDogNTY5cHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6ICMwMDAwMDA7ICI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE2cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtUYWhvbWEmcXVvdDs7IGNvbG9yOiBsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpOyBsaW5lLWhlaWdodDogMS4yOyBwb2ludGVyLWV2ZW50czogYWxsOyBmb250LXdlaWdodDogYm9sZDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+QXBwbGljYXRpb248ZGl2Pjxmb250IHN0eWxlPSJmb250LXdlaWdodDogbm9ybWFsOyBmb250LXNpemU6IDExcHg7Ij4oU2VydmljZXMsIG9yY2hlc3RhdGlvbiwgZXRjKTwvZm9udD48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNjQ2IiB5PSIyNTAiIGZpbGw9ImxpZ2h0LWRhcmssoIzAwMDAwMCwgI2ZmZmZmZikiIGZvbnQtZmFtaWx5PSImcXVvdDtUYWhvbWEmcXVvdDsiIGZvbnQtc2l6ZT0iMTZweCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC13ZWlnaHQ9ImJvbGQiPkFwcGxpY2F0aW9uLi4uPC90ZXh0Pjwvc3dpdGNoPjwvZz48L2c+PC9nPjxnIGRhdGEtY2VsbC1pZD0iMjkiPjxnPjxyZWN0IHg9IjU1MC41IiB5PSIyNzAiIHdpZHRoPSIxOTkuNSIgaGVpZ2h0PSI1MCIgcng9IjcuNSIgcnk9IjcuNSIgZmlsbD0iI2Y4Y2VjYyIgc3Ryb2tlPSIjYjg1NDUwIiBwb2ludGVyLWV2ZW50cz0iYWxsIiBzdHlsZT0iZmlsbDogbGlnaHQtZGFyayhyZ2IoMjQ4LCAyMDYsIDIwNCksIHJnYig4MSwgNDUsIDQzKSk7IHN0cm9rZTogbGlnaHQtZGFyayhyZ2IoMTg0LCA4NCwgODApLCByZ2IoMjE1LCAxMjksIDEyNikpOyIvPjwvZz48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogMTU1cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogMjk1cHg7IG1hcmdpbi1sZWZ0OiA1NjlweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzAwMDAwMDsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTZweDsgZm9udC1mYW1pbHk6ICZxdW90O1RhaG9tYSZxdW90OzsgY29sb3I6IGxpZ2h0LWRhcmssoIzAwMDAwMCwgI2ZmZmZmZik7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IGZvbnQtd2VpZ2h0OiBib2xkOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj5Eb21haW48ZGl2PjxzcGFuIHN0eWxlPSJmb250LXNpemU6IDExcHg7IGZvbnQtd2VpZ2h0OiA0MDA7Ij4oRW50aXRpZXMsIERvbWFpbiBTZXJ2aWNlcyk8L3NwYW4+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjY0NiIgeT0iMzAwIiBmaWxsPSJsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpIiBmb250LWZhbWlseT0iJnF1b3Q7VGFob21hJnF1b3Q7IiBmb250LXNpemU9IjE2cHgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtd2VpZ2h0PSJib2xkIj5Eb21haW4uLi48L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48L2c+PGcgZGF0YS1jZWxsLWlkPSIzMCI+PGc+PHJlY3QgeD0iNTUwLjUiIHk9IjMyMCIgd2lkdGg9IjE5OS41IiBoZWlnaHQ9IjUwIiByeD0iNy41IiByeT0iNy41IiBmaWxsPSIjZGFlOGZjIiBzdHJva2U9IiM2YzhlYmYiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHN0eWxlPSJmaWxsOiBsaWdodC1kYXJrKHJnYigyMTgsIDIzMiwgMjUyKSwgcmdiKDI5LCA0MSwgNTkpKTsgc3Ryb2tlOiBsaWdodC1kYXJrKHJnYigxMDgsIDE0MiwgMTkxKSwgcmdiKDkyLCAxMjEsIDE2MykpOyIvPjwvZz48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogMTk2cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogMzQ1cHg7IG1hcmdpbi1sZWZ0OiA1NTJweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzAwMDAwMDsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTZweDsgZm9udC1mYW1pbHk6ICZxdW90O1RhaG9tYSZxdW90OzsgY29sb3I6IGxpZ2h0LWRhcmssoIzAwMDAwMCwgI2ZmZmZmZik7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IGZvbnQtd2VpZ2h0OiBib2xkOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj5SZXBvc2l0b3J5PGRpdj48c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6IDQwMDsiPjxmb250IHN0eWxlPSJmb250LXNpemU6IDEwcHg7Ij4oRGF0YSBhY2Nlc3MsIEZpbGUgTWFuYWdlbWVudCwgZXRjKTwvZm9udD48L3NwYW4+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjY0OSIgeT0iMzUwIiBmaWxsPSJsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpIiBmb250LWZhbWlseT0iJnF1b3Q7VGFob21hJnF1b3Q7IiBmb250LXNpemU9IjE2cHgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtd2VpZ2h0PSJib2xkIj5SZXBvc2l0b3J5Li4uPC90ZXh0Pjwvc3dpdGNoPjwvZz48L2c+PC9nPjxnIGRhdGEtY2VsbC1pZD0iMzEiPjxnPjxyZWN0IHg9IjI5Mi4zOCIgeT0iNDYwIiB3aWR0aD0iMTcwLjI1IiBoZWlnaHQ9IjcwIiByeD0iMTAuNSIgcnk9IjEwLjUiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgcG9pbnRlci1ldmVudHM9ImFsbCIgc3R5bGU9ImZpbGw6IGxpZ2h0LWRhcmsocmdiKDI0NSwgMjQ1LCAyNDUpLCByZ2IoMjYsIDI2LCAyNikpOyBzdHJva2U6IGxpZ2h0LWRhcmsocmdiKDEwMiwgMTAyLCAxMDIpLCByZ2IoMTQ5LCAxNDksIDE0OSkpOyIvPjwvZz48Zz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogMTY4cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogNDk1cHg7IG1hcmdpbi1sZWZ0OiAyOTNweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzMzMzMzMzsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6ICZxdW90O0hlbHZldGljYSZxdW90OzsgY29sb3I6IGxpZ2h0LWRhcmssojMzMzMzMywgI2MxYzFjMSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IHdoaXRlLXNwYWNlOiBub3JtYWw7IHdvcmQtd3JhcDogbm9ybWFsOyAiPjxiPjxmb250IHN0eWxlPSJmb250LXNpemU6IDE2cHg7Ij5TaGFyZWQgS2VybmVsPC9mb250PjwvYj48ZGl2Pjxmb250PihDcm9zcy1DVXR0aW5nIGNvbmNlcm5zKTwvZm9udD48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMzc4IiB5PSI0OTkiIGZpbGw9IiMzMzMzMzMiIGZvbnQtZmFtaWx5PSImcXVvdDtIZWx2ZXRpY2EmcXVvdDsiIGZvbnQtc2l6ZT0iMTJweCIgdGV4dC1hbmNob3I9Im1pZGRsZSI+U2hhcmVkIEtlcm5lbC4uLjwvdGV4dD48L3N3aXRjaD48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48c3dpdGNoPjxnIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSIvPjxhIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTUpIiB4bGluazpocmVmPSJodHRwczovL3d3dy5kcmF3aW8uY29tL2RvYy9mYXEvc3ZnLWV4cG9ydC10ZXh0LXByb2JsZW1zIiB0YXJnZXQ9Il9ibGFuayI+PHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMHB4IiB4PSI1MCUiIHk9IjEwMCUiPlRleHQgaXMgbm90IFNWRyAtIGNhbm5vdCBkaXNwbGF5PC90ZXh0PjwvYT48L3N3aXRjaD48L3N2Zz4=
```

<div id="key-considerations-for-project-separation"\>

### Key Considerations for Project Separation: The How of Integration

  - **Dependency Management:** The main API project contains references to each slice's project.
  - **Feature/Endpoint Discovery:**
      - **Why:** The endpoints (MVC Controllers or Minimal APIs) defined in each slice's project must be accessible via HTTP. The main project needs to know about them.
      - **How:** `ApplicationParts` for MVC and perhaps reflection techniques, code generators, or simple extension methods for Minimal APIs will be explored.
  - **Code Sharing:**
      - **Why:** To avoid excessive duplication of common code.
      - **How:** Use a `SharedKernel` with caution to avoid creating a "god object." Share only what is stable and reusable.
  - **Cross-Cutting Concerns:**
      - **Why:** Functionalities like logging, authorization, and validation must be applied consistently.
      - **How:** Use middleware, endpoint filters, or manually implemented attributes on the features. These mechanisms are part of .NET.
  - **Configuration and Startup:**
      - **Why:** The services and endpoints of each slice must be registered in the main application.
      - **How:** In `Program.cs`, the registration of services and mapping of endpoints from the context projects are configured, either directly (not recommended) or using extension methods (which is demonstrated in the project I added at the end of this article).

<div id="strategies-for-exposing-endpoints"\>

## III. Exposing Endpoints for Vertical Slices in Separate Projects: .NET Mechanisms

When slices are in separate projects, the main API project needs a mechanism to discover and expose the HTTP endpoints.

<div id="using-aspnet-core-applicationparts"\>

### Using ASP.NET Core ApplicationParts (for MVC Controllers)

**Why `ApplicationParts` exists:** ASP.NET Core MVC needs a way to find Controllers, Views, View Components, etc., which may be in the main assembly or other referenced ones (like the context projects), and for this, it is possible to use `ApplicationParts`.

**How it works:** The `ApplicationPartManager` tracks `ApplicationParts` (an `AssemblyPart` encapsulates an assembly) and `IFeatureProvider`s (like `ControllerFeatureProvider`) to discover these components. By default, MVC examines the dependencies of the main project and discovers controllers in referenced assemblies.

> An excellent read to understand this point in more detail is this article [When ASP.NET Core can't find your controller: debugging application parts](https://andrewlock.net/when-asp-net-core-cant-find-your-controller-debugging-application-parts/) by [**Andrew Lock**](https://andrewlock.net/).

**Advantages for VSA with Separate Projects (using MVC Controllers):**

  - **Native Mechanism:** ASP.NET Core already integrates the mechanism to discover MVC controllers.
  - **Automatic Discovery (with project references):** If the slice projects are referenced, their MVC controllers are usually discovered automatically, considering what was mentioned before about `ApplicationParts`.
  - **Centralized Configuration:** Customization is done in `Program.cs`.

**Disadvantages and Limitations:**

  - **Coupled to Traditional MVC:** It is not compatible with Minimal APIs (though this might not be a requirement).
  - **MVC Overhead:** It involves the entire MVC framework. When you choose to use an MVC Controller for an endpoint, not only the action method is executed, but the entire machinery and lifecycle that the ASP.NET Core MVC framework uses to process a request.

**Minimalist Code Example (Illustrative):**

```csharp
// FeatureAController.cs in a separate project
using Microsoft.AspNetCore.Mvc;

namespace ContextA.Features.Controllers;

[ApiController]
[Route("[controller]")]
public class FeatureAController: ControllerBase
{
    public IActionResult Index()
    {
        return Ok("Hello world from FeatureA!");
    }
}
```

**Program.cs**:

```csharp
  WebApplicationBuilder builder = WebApplication.CreateBuilder(args);
IServiceCollection services = builder.Services;

services
    .AddControllers()
    .AddApplicationPart(
        typeof(ContextA.Features.Controllers.FeatureAController).Assembly
    );

WebApplication app = builder.Build();

app.MapControllers();

app.Run();
```

or more customizable:

```csharp
using Microsoft.AspNetCore.Mvc.ApplicationParts;

WebApplicationBuilder builder = WebApplication.CreateBuilder(args);
IServiceCollection services = builder.Services;

services.AddControllers()
    .ConfigureApplicationPartManager(apm =>
    {
        // Example of how a dynamically loaded assembly could be added:
        // var pluginAssembly = Assembly.LoadFrom("path/to/ContextA.Features.dll");
        // apm.ApplicationParts.Add(new AssemblyPart(pluginAssembly));

        // Example of how an assembly could be removed if necessary:
        // var assemblyToExclude = apm.ApplicationParts
        //                             .FirstOrDefault(part => part.Name == "AssemblyToExclude");
        // if (assemblyToExclude!= null)
        // {
        //     apm.ApplicationParts.Remove(assemblyToExclude);
        // }
        apm
            .ApplicationParts
            .Add(
                new AssemblyPart(
                    typeof(ContextA.Features.Controllers.FeatureAController).Assembly
                )
            );
    });

WebApplication app = builder.Build();

app.MapControllers();

app.Run();
```

Or using extension methods:

```csharp
// FeatureAExtensions.cs
// I usually place one in each project so that each feature
// is responsible for registering itself

using Microsoft.Extensions.DependencyInjection;
using System.Reflection;

namespace ContextA.Features.Extensions;

public static class FeatureAExtensions
{
    public static IMvcBuilder AddFeatureA(this IMvcBuilder builder)
    {
            // It will discover all the controllers it contains
        builder
            .AddApplicationPart(
                Assembly.GetExecutingAssembly()
            );

        return builder;
    }
}

// Program.cs
using ContextA.Features.Extensions;

WebApplicationBuilder builder = WebApplication.CreateBuilder(args);
IServiceCollection services = builder.Services;

// Required for FeatureA
services
    .AddControllers()
    .AddFeatureA();

// Optional for FeatureA
services
    .AddFeatureAServices();

WebApplication app = builder.Build();

app.MapControllers();

app.Run();
```

This example is based on what was described earlier. The `ApplicationPartManager` allows adding `AssemblyPart` for assemblies that are not direct references, which is key for a plugin system or for loading feature modules more dynamically.
Scalable systems using plugins will be covered in other articles, but understanding this concept helps to facilitate the implementation of this and other types of expandable and dynamic software.

<div id="leveraging-minimal-apis"\>

### Leveraging Minimal APIs (with Custom Discovery)

**Why Minimal APIs:** They offer a concise syntax for defining HTTP endpoints and align better with the idea of Vertical Slice Architecture of reducing boilerplate and keeping logic cohesive. Although I don't completely agree that it's a completely concise syntax, as it depends heavily on each implementation, I do believe the benefits during implementation are indisputable in most cases that focus on reducing the codebase.

**Why custom discovery is needed:** ASP.NET Core does not have an automatic mechanism like `ApplicationParts` to discover Minimal APIs existing in other assemblies. However, we can use extension methods and other previously mentioned mechanisms for this. How elaborate it is will depend on the needs of each project.

**How to implement custom discovery:**

  - **Convention and Reflection:**

      - **How:** Define a marker interface (e.g., `IEndpointDefinition`) in a shared project like the aforementioned `SharedKernel`. In each slice project, the classes that define Minimal APIs must implement this interface. In the `Program.cs` of the main project, reflection can then be used to scan the assemblies of each slice, find types that implement `IEndpointDefinition`, instantiate them, and call a conventional method (e.g., `MapEndpoints(IEndpointRouteBuilder app)`) to register the routes. Defining abstractions in advance will facilitate the implementation process here.
      - **Why:** It ensures dynamic discovery, preventing the main project from being coupled to each individual endpoint. Reflection is a native capability of .NET.

  - **Source Generators:**

      - **How:** Instead of runtime reflection, a source generator can analyze the projects during compilation, identify the endpoints (containing attributes or conventions), and generate the registration code that the main project will use. For example, by creating custom extension methods.
      - **Why:** It improves performance by avoiding reflection and can be more compatible with AOT (Ahead-Of-Time) compilation scenarios.

> More information about source generators at [this link](/dotnet/roslyn/code-generators).

**Advantages with Separate Projects (using Minimal APIs):**

  - **Lightweight and Potential Performance:** Less overhead than MVC.
  - **Philosophical Alignment with VSA:** Encourages the implementation of small, cohesive endpoints.
  - **Flexibility in Discovery:** Adapts to needs.

**Disadvantages and Limitations:**

  - **Implementation Effort for Discovery:** Requires additional code (reflection, source generators, or at least extension methods considering maintainability) for discovery.
  - **Maturity for Advanced Features:** Some MVC features may require more work to replicate in Minimal APIs, although this is continuously improving.

**Minimalist Code Example (Discovery of Minimal APIs by Reflection):**

In `SharedKernel.csproj` (or similar):

```csharp
// SharedKernel/Api/IEndpointDefinition.cs
using Microsoft.AspNetCore.Routing;

namespace SharedKernel.Api;

public interface IEndpointDefinition
{
  void MapEndpoints(IEndpointRouteBuilder app);
}

// SharedKernel/Api/EndpointRegistrationExtensions.cs
using Microsoft.AspNetCore.Builder;
using System.Reflection;

namespace SharedKernel.Api;

public static class EndpointRegistrationExtensions
{
    public static WebApplication MapAllEndpoints(
        this WebApplication app, params Assembly[] assembliesToScan)
    {
            Type endpointDefinitionType = typeof(IEndpointDefinition);

            // These objects will only be used once at application startup
            var endpointDefinitions = new List<IEndpointDefinition>();
            foreach (Assembly assembly in assembliesToScan)
                endpointDefinitions
                    .AddRange(
                        assembly
                            .ExportedTypes
                            .Where(t => endpointDefinitionType
                                            .IsAssignableFrom(t) 
                                        && t is { 
                                            IsInterface: false, 
                                            IsAbstract: false 
                                        }
                            )
                            .Select(Activator.CreateInstance)
                            .Cast<IEndpointDefinition>()
                    );

            foreach (IEndpointDefinition definition in endpointDefinitions)
            {
                definition.MapEndpoints(app);
            }
            return app;
    }
}
```

In `ContextB.Features.csproj`:

```csharp
// ContextB.Features/FeatureB.cs

namespace ContextB.Features.Api;

// It starts to look more like MVC controllers
public sealed class FeatureB : IEndpointDefinition
{
    // Only the default constructor is required

    public void MapEndpoints(
        IEndpointRouteBuilder app
    )
    {
        app.MapGet("/FeatureB", 
            (SomeService someService) => someService.GetHi()
        );
    }
}
```

In `MainApiProject/Program.cs`:

```csharp
// MainApiProject/Program.cs

using ContextB.Features.Extensions;
using SharedKernel.Api;

WebApplicationBuilder builder = WebApplication.CreateBuilder(args);
IServiceCollection services = builder.Services;

// Optional if services need to be registered
services
    .AddFeatureBServices();

WebApplication app = builder.Build();

app.MapAllEndpoints(
    typeof(ContextB.Features.Api.FeatureB).Assembly
);

app.Run();
```

This example illustrates the how (reflection to find implementations of `IEndpointDefinition`) and the why (need for an explicit registration mechanism for Minimal APIs in separate assemblies).

<div id="extension-methods"\>

#### More direct example using only extension methods and Minimal APIs

In `ContextC.Features.csproj`:

```csharp
// FeatureC.cs
using ContextC.Features.Services;
using Microsoft.AspNetCore.Builder;
using Microsoft.AspNetCore.Routing;

namespace ContextC.Features.Api;

public static class FeatureC
{   
    public static void MapFeatureCEndpoints(
        this IEndpointRouteBuilder app
    )
    {
        app
            .AddGet()
            //.AddPost();
            //.AddPut();
            //.AddPatch();
            //.AddDelete();
            ;
    }

    // Each HTTP method could have its own class for greater control
    private static IEndpointRouteBuilder AddGet(this IEndpointRouteBuilder app)
    {
        app.MapGet("/FeatureC", 
            (SomeService someService) => someService.GetHi()
        );

        return app;
    }
}
```

In `MainApiProject/Program.cs`:

```csharp
using ContextC.Features.Api;
using ContextC.Features.Extensions;

WebApplicationBuilder builder = WebApplication.CreateBuilder(args);
IServiceCollection services = builder.Services;

// Optional
services
    .AddFeatureCServices();

WebApplication app = builder.Build();

app.MapFeatureCEndpoints();

app.Run();
```

This approach is more direct and also more all-purpose, as it does not use Reflection and does not depend on an external project to discover the endpoints. The performance might be slightly better during application startup, but there would be no differences during the regular execution of the process. Over-engineering is also avoided in most cases.

<div id="comparative-analysis"\>

### ApplicationParts vs. Minimal APIs for Slices in Separate Projects

| Feature/Aspect | ApplicationParts (with MVC Controllers) | Minimal APIs (with custom discovery via reflection/source generators/extension methods) | Why and How It Impacts VSA with Separate Projects |
| :--- | :--- | :--- | :--- |
| **Discovery Mechanism** | **How:** Integrated (`ApplicationPartManager` scans for `ControllerBase` types). **Why:** MVC has a rich model of features that need to be discovered. | **How:** Manual implementation (reflection on interfaces/attributes or source generators). **Why:** Minimal APIs is "minimal," it does not include complex discovery of external assemblies by default. | `ApplicationParts` is "ready to use" for controllers. Minimal APIs require an infrastructure effort for discovery, but offer more control. |
| **Supported Endpoint Type** | MVC Controllers. | `MapGet`, `MapPost`, etc., endpoints. | The choice of endpoint type in the slice dictates the discovery strategy. |
| **Initial Configuration Complexity (Discovery)** | Low if they are project references, as the build system and MVC handle it. | Low (extension methods) or Moderate (reflection), to potentially higher (source generators), as the discovery logic is built. | Minimal APIs require more initial infrastructure code for discovery in some cases. |
| **Perceived Endpoint Performance** | Full MVC pipeline. Could have more overhead. | Lighter design can lead to better performance, though not necessarily. | For high performance sensitivity, Minimal APIs may be preferable. |
| **Flexibility** | Less flexible (must be Controller classes). | Very flexible (delegates, methods in classes, etc.). | Minimal APIs offer more freedom, aligning with VSA's idea of adapting the implementation to the slice's needs. |
| **Philosophical Alignment with VSA** | Moderate. | High (small, cohesive endpoints). | Minimal APIs fit more naturally with the spirit of VSA. |

**Why choose one over the other:**

  - **MVC Controllers with `ApplicationParts`:**

      - **Why:** If migrating existing MVC code, depending on complex MVC features (advanced filters, complex model binding, OData), or the team is very familiar with MVC.
      - **How:** By leveraging the integrated discovery mechanism of ASP.NET Core.

  - **Minimal APIs with Custom Discovery:**

      - **Why:** For new projects seeking lightness, performance, and a purer alignment with this architecture.
      - **How:** By implementing a discovery system (reflection or better, source generators) that adapts to the project's and team's conventions.

  - **Coexistence:**

      - **Why:** To allow for a gradual evolution or to use the best approach for different modules. I'm not sure if it's really convenient, but it does provide flexibility if required.
      - **How:** ASP.NET Core allows mapping both controllers and Minimal APIs in the same application.

The decision is based on the why of the project's needs (legacy, performance, feature complexity) and on how the discovery infrastructure is to be managed.

<div id="in-depth-analysis"\>

## IV. General Advantages and Disadvantages of Vertical Slice Architecture

<div id="detailed-advantages"\>

### Detailed Advantages (The Why Behind Their Benefits)

  - **High Cohesion and Low Coupling:**
      - **Why:** Grouping all the code for a feature reduces dependencies between unrelated features.
      - **How:** Changes in one slice are less likely to impact other slices.
  - **Improved Maintainability and Testability:**
      - **Why:** Localized code is easier to understand and modify.
      - **How:** Tests focused on the behavior of the slice in isolation.
  - **Development and Project Scalability, and Increased Team Productivity:**
      - **Why:** Fewer conflicts between developers working on different features, and greater ease when trying to move a feature to a microservice.
      - **How:** New members can focus on one slice without understanding the entire system, and scaling a functionality horizontally will only require extracting a project.
  - **Flexibility in Implementation per Slice:**
      - **Why:** Not all features have the same complexity or technical requirements.
      - **How:** Each slice can, theoretically, use the optimal tools or patterns for its specific need (e.g., EF Core for one slice, Dapper for another). This must be balanced with consistency.
  - **Clean Removal of Features:**
      - **Why:** If a feature becomes obsolete.
      - **How:** Deleting the slice's folder/project is safer due to low coupling.

<div id="disadvantages-and-common-challenges"\>

### Disadvantages and Common Challenges

  - **Potential Code Duplication:**
      - **Why:** The independence of slices can lead to repeated logic or DTOs.
      - **How to mitigate:** Extract truly common functionalities to a `SharedKernel` or shared utilities. Distinguish "bad" duplication from "acceptable" duplication that preserves autonomy.
  - **Management of Cross-Cutting Concerns:**
      - **Why:** Logging, authorization, validation, etc., must be applied consistently.
      - **How to manage:** Use ASP.NET Core middleware, action/endpoint filters, or the Decorator pattern implemented manually on feature handlers. These are mechanisms of the .NET framework.
  - **Maintaining Consistency Between Slices:**
      - **Why:** Too much flexibility in implementation per slice can lead to an inconsistent codebase.
      - **How to manage:** Clear architectural guidelines, code reviews, and team discipline to maintain a reasonable level of consistency.
  - **Initial Learning Curve and Required Discipline:**
      - **Why:** VSA is not inherently "easier" if the principles of coupling, cohesion, and refactoring are not understood.
      - **How to manage:** Foster a deep understanding of these principles and the ability to refactor.
  - **Large Number of Classes/Files:**
      - **Why:** Fine granularity can lead to many small files.
      - **How to manage:** Good folder structure and naming conventions.

<div id="brief-mention-of-other-possible-alternatives"\>

## V. Other Possible Implementation Alternatives in VSA

There are variations in how details are implemented within VSA, using .NET capabilities:

<div id="internal-slice-organization"\>

### Internal Slice Organization

  - **Single Files with Nested Classes:**
      - **Why:** For greater visual cohesion and simpler class names within the context of the file.
      - **How:** Group Request, Response, Handler, etc., of a slice into a single C\# file using nested classes.
  - **Feature Folders:**
      - **Why:** A more traditional structure, clear separation of files.
      - **How:** Each component of the slice in its own file, grouped in a folder per feature.

<div id="direct-communication-between-slices"\>

### Direct Communication Between Slices (without an explicit mediator like MediatR or RouteDispatcher, etc.)

  - **Why:** For simple synchronous interactions within the same process, a mediator can be unnecessary overhead.
  - **How:** One feature invokes functionality of another through a well-defined interface (exposed by the invoked slice and registered in DI). This uses .NET's dependency injection.

<div id="using-source-generators-for-registrationoptimization"\>

### Using Source Generators or extension methods for Registration/Optimization

  - **Why:** To reduce boilerplate code in the registration of services or endpoints, and to improve startup performance and AOT compatibility by avoiding runtime reflection.
  - **How:** .NET Source Generators analyze the code at compile time and can automatically generate the necessary code to register all feature handlers or Minimal API endpoints.

These alternatives focus on how to structure the code or how to perform certain tasks (like registration) using intrinsic .NET functionalities, without relying on external libraries. In fact, using code generators or reflection could be a lot of extra code if not used frequently, and perhaps the extension methods I mentioned before are a more versatile solution.

<div id="conclusion-and-strategic-recommendations"\>

## VI. Conclusion and Strategic Recommendations: A Pragmatic Approach with .NET

Vertical Slice Architecture in .NET, implemented through separate projects by context, offers a pragmatic way to build modular and maintainable systems.

**Summary of Key Findings (Whys and Hows):**

  - VSA organizes code by vertical functionality (improving cohesion and maintainability, grouping everything for a feature).
  - Separation into projects by context (isolation and organization; class libraries per context) aligns with Modular Monoliths.
  - Exposing endpoints from separate projects is achieved with:
      - **MVC Controllers:** `ApplicationParts` (native MVC mechanism; `ApplicationPartManager` discovers controllers).
      - **Minimal APIs:** Custom discovery (no native mechanism for external assemblies; extension methods, reflection on interfaces/attributes, or Source Generators).
  - VSA has advantages in maintainability and flexibility (localization of change, adaptation per slice) but requires discipline (risk of inconsistency, duplication).

**Strategic Recommendations (Pragmatic Decisions):**

  - **Choosing the Endpoint Exposure Mechanism (The "How" based on the "Why"):**
      - If your slices use MVC Controllers (legacy, MVC complexity needed), use `ApplicationParts` (configuration in `Program.cs`).
      - If your slices use Minimal APIs (lightweight, new developments), implement custom discovery with reflection or Source Generators (define conventions and scan/generate registration code).
  - **Evaluate Team Maturity and Discipline (The "Why" of the need for skill):** VSA grants flexibility; without a solid foundation in design and refactoring, it can lead to inconsistencies. How this freedom is managed is crucial.
  - **Design of the `SharedKernel` and Strategies for Cross-Cutting Concerns (The "How" of sharing and consistency):**
      - Avoid excessive duplication and apply global policies through a "`SharedKernel`" for truly common and stable code. Use .NET middleware, filters, and decorators for cross-cutting concerns.
  - **Consider VSA as an Enabler of Modular Monoliths (The "Why" of this structure):**
      - It offers a good balance between monolith simplicity and modularity, without the initial complexity of microservices, by structuring the solution with independent context projects.

**Final Thoughts:**
Vertical Slice Architecture, when approached with a clear understanding of its principles and by pragmatically using the capabilities of the .NET framework, allows for the construction of robust and evolutionary systems. The choice between `ApplicationParts` for MVC controllers and custom discovery for Minimal APIs is a fundamental technical decision, guided by the "why" of each slice's needs and the "how" they are integrated into the main application.

Everything mentioned above has been (reasonably) condensed in the Github repository [Vertical Slices in .NET - Github](https://github.com/pablomederos/vetical-slices-dotnet).